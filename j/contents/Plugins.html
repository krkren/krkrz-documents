<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- generated by to_html.pl from Plugins.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>About Plugins</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="Standard style for Kirikiri-related references" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="Top Page" />
</head>
<body>
<h1><a id="id198" name="id198">What are Plugins?</a>
</h1><div class="para"><div>
 Plugins are used to connect to Kirikiri and extend its functionality.<br />
 Currently, there are three types of plugins available for Kirikiri:<br />
<ul><li>Susie Plug-in (Image loading and archive access)</li><li>Plugins to extend formats playable by WaveSoundBuffer</li><li>Other Kirikiri-specific plugins</li></ul><br />
 To use a plugin, you must connect it to the Kirikiri core using the <a target="main" class="jump" href="f_Plugins_link.html">Plugins.link</a> method.<br />
</div></div>

<h1><a id="id199" name="id199">Searching for Plugins</a>
</h1><div class="para"><div>
 The <a target="main" class="jump" href="f_Plugins_link.html">Plugins.link</a> method searches for the specified plugin in the following order:<br />
<ol><li>The same folder as the Kirikiri executable</li><li>Inside the "plugin" folder (or "plugin64" for the 64-bit version) located in the same directory as the Kirikiri executable</li><li>Auto-search path</li></ol><br />
 If the auto-search path is in a location that cannot be accessed as a local file, such as inside an archive, Kirikiri will attempt to extract the plugin to <em>the same folder as the Kirikiri executable</em>. Since this can cause issues, it is <em>strongly recommended</em> to place plugins in either "the same folder as the Kirikiri executable" or "the plugin folder in the same directory as the Kirikiri executable."<br />
 Placing them in the plugin/plugin64 folder is also important for distinguishing between 32-bit and 64-bit plugins.<br />
 Additionally, Kirikiri configuration tools (such as Releaser or the -userconf option) search for plugins to collect information on embedded options for each plugin, using the following order:<br />
<ol><li>The same folder as the Kirikiri executable</li><li>The plugin folder in the same directory as the Kirikiri executable</li></ol><br />
 Since Kirikiri configuration tools do not search the auto-search path, plugins containing configuration items must be placed in "the same folder as the Kirikiri executable" or "the plugin folder in the same directory as the Kirikiri executable."<br />
</div></div>
<h1><a id="id200" name="id200">Automatic Plugin Loading</a>
</h1><div class="para"><div>
 Kirikiri has a feature to automatically search for and load plugins at startup. To have a plugin loaded automatically, you must change the plugin's extension from .dll to .tpm.<br />
 At startup (just before executing startup.tjs), Kirikiri searches for files with the .tpm extension in the following folders and loads them automatically as plugins:<br />
<ul><li>The same folder as the Kirikiri executable</li><li>Inside the "plugin" folder (or "plugin64" for the 64-bit version) located in the same directory as the Kirikiri executable</li></ul><br />
 Kirikiri sorts the found plugins in ascending order by name and loads them in that sequence. For example, aaa.tpm is loaded before aab.tpm. This is not affected by the folder where the plugin is located, only by the plugin's name (even if z.tpm is in the same folder as the Kirikiri executable, if a.tpm is in the plugin folder, a.tpm will be loaded first). If you want to specify the loading order of plugins, you must change the plugin filenames.<br />
</div></div>
<h1><a id="id201" name="id201">About Creating Plugins</a>
</h1><div class="para"><div>
 The Kirikiri source code includes source code for the bundled plugins, which you can use as a reference.<br />
 At this stage, the specifications for "other Kirikiri-specific plugins" are <em>not finalized</em>. Even if specifications change in the future, source-level compatibility is expected to be maintained. Therefore, even if binary-level compatibility is lost, you should be able to use them by rebuilding them to match the Kirikiri core.<br />
</div></div>
<h1><a id="id202" name="id202">About Susie Plug-ins</a>
</h1><div class="para"><div>
 You can use plugins designed for the image viewer "Susie32" created by Mr. Takechin.<br />
 You can use 00IN format (image plugins) and 00AM format (archive plugins), but there are the following limitations or Kirikiri-specific behaviors:<br />
<br />
<ul><li>Since Kirikiri determines the image format by its extension, it cannot handle images with extensions different from the original extension (the one returned by the GetPluginInfo function). (Archives are OK even if the extension is different because all supported formats are checked.)</li><li>32bpp bitmaps are treated as bitmaps with an alpha channel.</li><li>Some bitmap formats are not accepted (such as those with RLE compression or BITFIELDS specified).</li><li>Image loading and archive access via Susie plugins have significantly lower performance compared to image formats and XP3 archives handled natively by Kirikiri.</li><li>Since files in an archive are extracted into memory, it is not suitable for handling large files.</li><li>Archives within archives are not supported.</li><li>Mac binary is not supported.</li></ul><br />
 Additionally, some plugins that do not fully comply with the Susie plug-in standard may be incompatible with Kirikiri.<br />
</div></div>
<h1><a id="id203" name="id203">About Bundled Kirikiri Plugins</a>
</h1><div class="para"><div>
 Descriptions of the plugins bundled with Kirikiri by default.<br />
<br />
<dl>
<dt><a id="id204" name="id204" class="targanchor"><dfn>wuvorbis.dll</dfn></a></dt>
<dd> Plugin to enable <a id="id205" name="id205" class="targanchor"><dfn>OggVorbis</dfn></a> playback in Kirikiri.</dd>
<dt><a id="id206" name="id206" class="targanchor"><dfn>wumsadp.dll</dfn></a></dt>
<dd> Plugin to enable playback of <a id="id207" name="id207" class="targanchor"><dfn>Microsoft ADPCM</dfn></a> format .wav files in Kirikiri.</dd>
<dt><a id="id208" name="id208" class="targanchor"><dfn>wutcwf.dll</dfn></a></dt>
<dd> Plugin to enable playback of <a id="id209" name="id209" class="targanchor"><dfn>TCWF</dfn></a> format files in Kirikiri.</dd>
<dt><a id="id210" name="id210" class="targanchor"><dfn>extrans.dll</dfn></a></dt>
<dd> Plugin to extend the types of transitions in the Kirikiri core. Connecting it to the core makes several transitions available.<br />
 Refer to <a target="main" class="jump" href="Transition.html">About Transitions</a> for how to use this plugin.</dd>
<dt><a id="id211" name="id211" class="targanchor"><dfn>dirlist.dll</dfn></a></dt>
<dd> Plugin to obtain a list of files in a specified directory.<br />
 Connecting this plugin makes the <a id="id212" name="id212" class="targanchor"><dfn>getDirList</dfn></a> function available.<br />
 <code class="inlinecode">getDirList(directory)</code><br />
 Specifying it in this format returns an array containing a list of all files in that directory. This list also includes directories; for directories, the element string ends with '/'.<br />
 This list also typically includes the two elements './' and '../'.<br />
 This function only gets the list of files directly under the specified directory and does not recursively get files from subdirectories.</dd>
<dt><a id="id213" name="id213" class="targanchor"><dfn>fftgraph.dll</dfn></a></dt>
<dd> Plugin to display a simple spectrum analyzer (spec-ana) synchronized with WaveSoundBuffer.<br />
 Connecting this plugin makes the <a id="id214" name="id214" class="targanchor"><dfn>drawFFTGraph</dfn></a> function available.<br />
 Refer to the fftgraph source in the Kirikiri source code and the spectrum analyzer plugin for KAG for usage.</dd>
<dt><a id="id215" name="id215" class="targanchor"><dfn>win32ole.dll</dfn></a></dt>
<dd> Plugin for embedding ActiveX controls into Kirikiri windows or controlling OLE automation-capable objects from Kirikiri.<br />
 Using this, you can, for example, embed a web browser (Internet Explorer) or media player into a Kirikiri window, or control Excel from Kirikiri.<br />
 Refer to the <a class="jump" href="https://sv.kikyou.info/trac/kirikiri/browser/kirikiri2/trunk/kirikiri2/src/plugins/win32/win32ole/manual.tjs">kirikiri2/trunk/kirikiri2/src/plugins/win32/win32ole/manual.tjs</a> and <a class="jump" href="https://sv.kikyou.info/trac/kirikiri/browser/kirikiri2/trunk/kirikiri2/tests/win32ole">kirikiri2/trunk/kirikiri2/tests/win32ole</a> directories in the Kirikiri source code for usage.<br />
</dd>
<dt><a id="id216" name="id216" class="t