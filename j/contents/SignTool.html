<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- generated by to_html.pl from SignTool.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Key/Signature Tool</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="Standard Style for KiriKiri Reference" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="Top Page" />
</head>
<body>
<h1><a id="id232" name="id232">About the Key/Signature Tool</a>
</h1><div class="para"><div>
 The Key/Signature Tool is a tool for applying simple <a id="id233" name="id233" class="targanchor"><dfn>digital signatures</dfn></a> to distributed data.<br />
 By using digital signatures, you can verify that a file was created by the legitimate author, and check for file tampering or corruption.<br />
 Currently, the <a target="main" class="jump" href="FileChkTool.html">File Integrity Check Tool</a> utilizes these signatures.<br />
</div></div>

<h1><a id="id234" name="id234">About Public and Private Keys</a>
</h1><div class="para"><div>
 To use the Key/Signature Tool, you must first use it to create a pair of keys (<a id="id237" name="id237" class="targanchor"><dfn>key pair</dfn></a>) consisting of a "<a id="id235" name="id235" class="targanchor"><dfn>public key</dfn></a>" and a "<a id="id236" name="id236" class="targanchor"><dfn>private key</dfn></a>".<br />
 Although called "keys", they are actually strings of text in the following format:<br />

<br />
<code class="bq">-----BEGIN&nbsp;PUBLIC&nbsp;KEY-----<br />
MIGJAoGBAJYfPysW57qE3J2ddGWEG+RzXUzFkWa0ct3p7qJfuWDB+52DbfS9qSpw<br />
iTHQ54vl7K35x+WDQdn29cfgJxp9UD3fzY4h6E2ReE9vj4h0FCMK8dpCFnQkOD/M<br />
hDSiXfXz7KmfMXppM0CjofvH+IL7BJ3/GcLFcuEw3hEnzoajIm1TAgMBAAE=<br />
-----END&nbsp;PUBLIC&nbsp;KEY-----<br />
</code>
<br />

 The public key is a key that can be made public, while the private key must never be disclosed.<br />
 The private key is used when signing. The digital signature is generated using that private key.<br />
 The public key is used when verifying that signature. The private key and public key always form a pair; only a signature made with a specific private key can be successfully verified with its corresponding public key.<br />
 If someone who does not know the private key signs with a different private key, the signature cannot be verified with the legitimate public key. Since it is impossible to guess the private key from the public key, only the person holding the private key can create a valid signature.<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
Normally, when a "public key" is published, there needs to be a way to verify that the "public key" itself is legitimate. If you don't know if the public key is authentic to begin with, the digital signature loses much of its meaning. However, the KiriKiri Key/Signature Tool does not take things that far.</div><br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
The encryption method used by the KiriKiri Key/Signature Tool was changed from ECC (Elliptic Curve Cryptography) to RSA in version 2.25beta7.<br />
The length of the RSA keys generated by the KiriKiri Key/Signature Tool is 1024 bits. Additionally, private keys are not protected by a passphrase.<br />
The RSA public and private keys generated by the KiriKiri Key/Signature Tool are compatible with PEM format keys from other software, but using keys generated outside this tool, or using keys generated by this tool in other software, is not supported.<br />
</div><br />
</div></div>
<h1><a id="id238" name="id238"><a id="id238" name="id238" class="targanchor"><dfn>Key Generation</dfn></a> Procedure</a>
</h1><div class="para"><div>
<br />
 When you start the Key/Signature Tool (krkrsign.exe in the tools folder), the key generation screen is displayed first.<br />
<img width="375" height="416" alt="sign0.png" src="sign0.png" /><br />
<br />
<br />
<dl>
<dt>"Generate" button</dt>
<dd> Click this to start generating a key pair. First, a window saying "Collecting entropy" will appear, asking you to move the mouse randomly. Please follow the instructions (this is necessary to generate a key that cannot be guessed by others).<br />
 When the window closes, the generated key pair will be displayed in the "Generated Public Key" and "Generated Private Key" fields below.<br />
</dd>
<dt>Generated Public Key</dt>
<dd> Displays the generated public key. You can copy the key to the clipboard by clicking the "Copy" button next to it.</dd>
<dt>Generated Private Key</dt>
<dd> Displays the generated private key. You can copy the key to the clipboard by clicking the "Copy" button next to it.<br />
 Note that for security reasons, the clipboard contents will be cleared when this window is closed.<br />
</dd></dl></div></div>

<h1><a id="id239" name="id239"><a id="id239" name="id239" class="targanchor"><dfn>Signing</dfn></a> Procedure</a>
</h1><div class="para"><div>
<br />
 Click the "Sign" tab to display the signing screen.<br />
<img width="375" height="416" alt="sign1.png" src="sign1.png" /><br />
<br />
<br />
<dl>
<dt>Private Key</dt>
<dd> Specify the private key.</dd>
<dt>Target File</dt>
<dd> You can specify the file to be signed.<br />
 Click the "Browse" button to open a file selection dialog and specify the target file.<br />
 You can also specify the target file by dropping it onto this window (the current version does not support signing multiple files at once).<br />
</dd>
<dt>"Sign" button</dt>
<dd> Signs the target file.<br />
 The signature file will have the same name as the target file with the extension .sig added, but as an exception, for the KiriKiri executable itself, the signature is embedded within the executable.<br />
</dd></dl></div></div>
<h1><a id="id240" name="id240"><a id="id240" name="id240" class="targanchor"><dfn>Signature Verification</dfn></a> Procedure</a>
</h1><div class="para"><div>
<br />
 Click the "Verify Signature" tab to display the verification screen.<br />
<img width="375" height="416" alt="sign2.png" src="sign2.png" /><br />
<br />
<br />
<dl>
<dt>Public Key</dt>
<dd> Specify the public key.</dd>
<dt>Target File</dt>
<dd> You can specify the file for signature verification.<br />
 Click the "Browse" button to open a file selection dialog and specify the target file.<br />
 You can also specify the target file by dropping it onto this window (the current version of this tool does not support verifying multiple file signatures at once).<br />
</dd>
<dt>"Check" button</dt>
<dd> Verifies the signature of the target file.<br />
 The result will be notified via a message box.</dd></dl></div></div>

<h1><a id="id241" name="id241">Command Line Usage</a>
</h1><div class="para"><div>
 You can sign files by using the Key/Signature Tool from the command line. This is useful when combined with tools like make.<br />
 Specify using the following format:<br />

<br />
<code class="bq">krkrsign&nbsp;-sign&nbsp;"target_filename"&nbsp;"private_key_filename"</code>
<br />

 For the private key filename, specify a file where the private key is saved as text.<br />
 For example, to sign game.exe:<br />

<br />
<code class="bq">krkrsign&nbsp;-sign&nbsp;"game.exe"&nbsp;"key.priv"</code>
<br />

 Only one file can be signed per call.</div></div>



	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>