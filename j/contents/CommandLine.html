<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- generated by to_html.pl from CommandLine.xml -->
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Command Line Options</title>
	<meta name="author" content="W.Dee" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<link href="browser.css" type="text/css" rel="stylesheet" title="Standard Style for Kirikiri Related Reference" />
	<link href="mailto:dee@kikyou.info" rev="Made" />
	<link href="index.html" target="_top" rel="Start" title="Top Page" />
</head>
<body>
<h1><a id="id3" name="id3">Command Line Options</a>
</h1><div class="para"><div>
　Kirikiri's command line options can be specified from a normal command line, or saved in a configuration file using <a target="main" class="jump" href="Releaser.html">Releaser</a> ( krkrrel.exe ) or <a target="main" class="jump" href="Configure.html">Kirikiri Configuration</a> ( -userconf ).<br />
The order in which options are loaded is:<ol>  <li>Options embedded in the Kirikiri executable itself</li>  <li>The .cf file in the same directory as the Kirikiri core (file name is the same as the Kirikiri core)</li>  <li>The .cfu file in the data storage location, output by "Engine Settings" (-userconf) (file name is the same as the Kirikiri core)</li>  <li>Options specified on the command line</li></ol>.cf and .cfu files are simply ignored if they do not exist. Later loaded specifications take priority.<br />
<br />
　Command line options basically start with a '-' (hyphen) followed by the option name. Then followed by '=' and the option value.<br />
　For example, if the value of the -cdvol option is direct, specify it as -cdvol=direct.<br />
<br />
　Except for "Startup Options", "Debug Related Options", and "System Compatibility Related Options", most are options for fine-tuning to resolve environment-dependent issues.<br />
　For resolving environment-dependent issues, please also refer to <a target="main" class="jump" href="ComputerDependentProblems.html">About Environment-Dependent Bugs</a>.<br />
<br />
<br /><div class="note"><div class="notehead"><span class="noteheadspan">Note</span></div>
In Releaser or -userconf, you can change these options by rewriting the Kirikiri executable file or external configuration files, but usually leaving them at their defaults is fine. <em>It is not recommended to distribute executable files or configuration files with these options changed from their defaults just because there is a problem in the creator's specific environment</em> (of course, there are options like -datapath that should be set according to the distribution or usage format).</div><br />
<br />
Items in the list below marked as "Dynamically changeable" can be changed using the <a class="jump" href="f_System_setArgument.html">System.setArgument</a> method. Other options cannot be changed dynamically.<br />
</div></div>


<h1><a id="id4" name="id4">Startup Options</a>
</h1><div class="para"><div>
　The following options are available to call and use specific functions of Kirikiri.<br />
<dl>
<dt>-<a id="id5" name="id5" class="targanchor"><dfn>userconf</dfn></a> (Launch end-user configuration tool)</dt>
<dd>　Launches the built-in end-user configuration tool.<br />
</dd>
<dt>-<a id="id6" name="id6" class="targanchor"><dfn>about</dfn></a> (Display copyright information dialog box)</dt>
<dd>　Displays the "Version, Copyright, and Environment Information" dialog box.</dd>
<dt>-<a id="id7" name="id7" class="targanchor"><dfn>sel</dfn></a> (Display "Select Folder/Archive" dialog box)</dt>
<dd>　Displays the "Select Folder/Archive" dialog box. Data such as data.xp3 will not be automatically detected.<br />
　If you specify a folder as a command line parameter (without a hyphen at the beginning), you can open the "Select Folder/Archive" dialog box with that folder selected in the initial state.</dd>
<dt>-<a id="id8" name="id8" class="targanchor"><dfn>printdatapath</dfn></a> (Output data storage location)</dt>
<dd>　Outputs the settings of the data storage location (-datapath option) and a newline to standard output, then exits. This option is intended for use by external applications that manage save data in cooperation with Kirikiri.<br />
　Special strings such as $(exepath) in the data storage location are output in their replaced state.<br />
　Since Kirikiri is a GUI application, nothing will be displayed if you simply launch the Kirikiri executable from a command prompt with the -printdatapath option. Use pipes or redirection to capture the output.<br />
</dd>
<dt>-<a id="id9" name="id9" class="targanchor"><dfn>startup</dfn></a> (Specify startup script)</dt>
<dd>　Specifies the script file name to be executed first.<br />
　If not specified, startup.tjs is executed.<br />
</dd></dl></div></div>
<h1><a id="id10" name="id10">General System Options</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id11" name="id11" class="targanchor"><dfn>datapath</dfn></a> (Data storage location)</dt>
<dd>　Settings for the location (folder) where Kirikiri saves various data.<br />
　The value is specified as a string.<br />
　You can simply specify the folder name as a full path, but usually, the following special strings are embedded.<br />
<br />
<dl> 
<dt>$(exepath)</dt>
 <dd>Replaced with System.exePath (the folder name where the Kirikiri core is located).</dd> 
<dt>$(appdatapath)</dt>
 <dd>Replaced with System.appDataPath (the user's home folder). This folder is usually a hidden folder.</dd> 
<dt>$(personalpath)</dt>
 <dd>Replaced with System.personalPath (My Documents folder).</dd> 
<dt>$(vistapath)</dt>
 <dd>Replaced with $(appdatapath) if the OS is Vista or later, and $(exepath) if it is earlier than Vista.</dd> 
<dt>$(savedgamespath)</dt>
 <dd>Replaced with System.savedGamesPath (folder for game save data). (Ver 1.1.0 or later)</dd></dl><br />
The default is "$(exepath)\savedata". This setting is suitable for distribution formats where the program is compressed/archived in zip etc. without using an installer, and the user executes the program immediately after extracting it.<br />
However, with this default setting, if the program is placed under Program Files, there is a possibility of an error because files cannot be written when the program is launched by a "Restricted User" in Windows XP etc. who does not have permission to write under Program Files.<br />
If you use names like "$(appdatapath)\Application Name" or "$(personalpath)\Application Name", files will be written to a folder per user, making such problems less likely to occur, but users might be confused because the save data storage location becomes less obvious.<br />
<br />
The data storage location specified by this option will be attempted to be created if it does not exist when Kirikiri starts. Even if creation fails, processing continues without exiting, so please handle errors within the user's script (by catching exceptions such as data cannot be saved).<br />
<br />
Settings made in "Engine Settings" are created in the folder specified by this data storage location. In addition, various logs are also created in this folder by default.<br />
</dd>
<dt>-<a id="id12" name="id12" class="targanchor"><dfn>contfreq</dfn></a> (Processing weight)</dt>
<dd>　Setting for whether to reduce CPU usage by calling processes such as transitions at a specified cycle while applying weights.<br />
　Possible values are <em>'0' (no weight)</em> or a positive integer; if this option is not specified, '0' is assumed. If a positive integer is specified, you can specify the cycle in Hz.<br />
　This option affects transitions and Continuous handlers registered with System.addContinuousHandler.<br />
　If set to '0', processing is performed using full CPU power during transitions, etc.<br />
　If a numerical value is specified, processing will be performed at that cycle, and the CPU will rest during the remaining time. This can reduce the impact on other applications, CPU temperature rise, and computer power consumption. The lower the value specified, the higher this effect. However, specifying a low value may cause transitions etc. to become less smooth.<br />
　If vertical sync wait is performed with the waitvsync option, the Continuous handler will be driven according to the vertical sync timing, and the setting of the contfreq option will be ignored.<br />
　This option can be changed dynamically, but the change will be reflected the next time the transition or Continuous handler operation is interrupted.<br />
</dd>



<dt>-<a id="id13" name="id13" class="targanchor"><dfn>memusage</dfn></a> (Memory usage)</dt>
<dd>　Setting for memory usage.<br />
　Possible values are <em>'normal'</em> or <em>'low'</em>; if this option is not specified, 'normal' is assumed.<br />
　Selecting "low" will use less memory than selecting "normal". However, selecting "low" will decrease performance because various internal cache mechanisms of Kirikiri are restricted and the size of TJS2 hash tables is limited. Also, if "low" is selected, "Graphic - Image Cache Limit" is forced to be treated as "Do not cache".</dd>
<dt>-<a id="id14" name="id14" class="targanchor"><dfn>timerprec</dfn></a> (Timer precision)</dt>
<dd>　Setting for the level of timer precision.<br />
　Possible values are <em>'normal'</em>, <em>'higher'</em>, or <em>'high'</em>; if this option is not specified, 'normal' is assumed.<br />
　Specifying 'higher' or 'high' increases the overall precision of timers (including most things related to time and timing), which may resolve sluggishness in KAG text display or MIDI playback, but may also decrease performance.</dd>
<dt>-<a id="id15" name="id15" class="targanchor"><dfn>laxtimer</dfn></a> (Timer event capacity limit)</dt>
<dd>　Setting for whether to limit the number of timer events stored in the system at once (maximum allowable generation) to avoid situations where too many timer events accumulate and cannot be processed.<br />
　Possible values are <em>'no' (do not limit)</em> or <em>'yes' (limit)</em>; if this option is not specified, 'no' is assumed.<br />
　On very slow computers or in situations where very heavy processes are driven by timers, Kirikiri may become unresponsive to operations because it cannot keep up with events generated by timers. If 'yes' is specified for this option, the maximum allowable generation of timer events stored in the system is always fixed to 1 (state where the capacity property of the Timer class is 1). This can suppress the generation of timer events that the system cannot process, but usually, timer precision and accuracy are lost.<br />
</dd>
<dt>-<a id="id16" name="id16" class="targanchor"><dfn>lowpri</dfn></a> (Low priority)</dt>
<dd>　Setting for whether to lower the priority during transitions, etc.<br />
　Possible values are <em>'no' (do not lower)</em> or <em>'yes' (lower)</em>; if this option is not specified, 'no' is assumed.<br />
　If set to 'yes', the execution priority of the main thread will be lowered when Kirikiri's main thread uses the CPU continuously, such as during transitions. This may improve symptoms such as sound skipping during transitions or other applications becoming difficult to operate during transitions.</dd>
<dt>-<a id="id17" name="id17" class="targanchor"><dfn>exceptionexe</dfn></a> (Editor to launch on exception)</dt>
<dd>　Specifies the editor to launch when an exception occurs.<br />
</dd>
<dt>-<a id="id18" name="id18" class="targanchor"><dfn>exceptionarg</dfn></a> (Exception editor options)</dt>
<dd>　Specifies the options to be specified when launching the editor upon an exception.<br />
　You can simply specify arguments, but usually, the following special strings are embedded.<br />
<br />
<dl> 
<dt>%filepath%</dt>
 <dd>Replaced with the file path of the script where the exception occurred.</dd> 
<dt>%line%</dt>
 <dd>Replaced with the line number where the exception occurred.</dd></dl><br />
</dd>


</dl>

</div></div>
<h1><a id="id19" name="id19">Input Related Options</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id20" name="id20" class="targanchor"><dfn>wheel</dfn></a> (Mouse wheel rotation detection method)</dt>
<dd>　Setting for how to detect mouse wheel rotation.<br />
　Possible values are <em>'no' (do not use)</em>, <em>'dinput' (DirectInput)</em>, or <em>'message' (window message)</em>; if this option is not specified, 'dinput' is assumed.<br />
　Selecting "no" makes the mouse wheel unusable. Selecting "DirectInput" uses DirectInput. Selecting "window message" detects mouse wheel rotation without using DirectInput. Changing the setting may improve mouse wheel related issues.</dd>
<dt>-<a id="id21" name="id21" class="targanchor"><dfn>joypad</dfn></a> (Gamepad availability)</dt>
<dd>Setting for whether to use a gamepad (joystick).<br />
　Possible values are <em>'no' (do not use)</em> or <em>'dinput' (use)</em>; if this option is not specified, 'dinput' is assumed.<br />
　Selecting "no" makes the pad unusable. Set to "no" if the pad cannot be detected normally or cannot be used normally.</dd>

<dt>-<a id="id22" name="id22" class="targanchor"><dfn>paddelay</dfn></a> (Pad key repeat delay)</dt>
<dd>Specifies the time until gamepad (joystick) key repeat in milliseconds.<br />
　Possible values are a positive number or -1; specifying -1 disables key repeat. If this option is not specified, 500 is assumed.<br />
　This option is dynamically changeable.</dd>

<dt>-<a id="id23" name="id23" class="targanchor"><dfn>padinterval</dfn></a> (Pad key repeat interval)</dt>
<dd>Specifies the interval of gamepad (joystick) key repeat in milliseconds. Smaller values result in faster repeats.<br />
　Possible values are positive numbers; if this option is not specified, 30 is assumed.<br />
　This option is dynamically changeable.</dd>

<dt>-<a id="id24" name="id24" class="targanchor"><dfn>controlime</dfn></a> (IME state control)</dt>
<dd>　Setting for whether to perform state control (enable/disable control) of IME (conversion input software for Japanese, etc.).<br />
　Possible values are <em>'yes' (perform)</em> or <em>'no' (do not perform)</em>; if this option is not specified, 'yes' is assumed.<br />
　Selecting "no" may avoid issues such as "unable to input languages like Japanese that use IME".<br />
</dd></dl></div></div>
<h1><a id="id25" name="id25">Sound Related Options</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id26" name="id26" class="targanchor"><dfn>wsdecpri</dfn></a> (PCM decode thread priority)</dt>
<dd>　Priority of the thread that performs PCM decoding.<br />
　Possible values are <em>'0' (Idle (lowest))</em>, <em>'1' (Low)</em>, <em>'2' (Below Normal)</em>, <em>'3' (Normal)</em>, <em>'4' (Above Normal)</em>, or <em>'5' (High)</em>; if this option is not specified, '1' is assumed.<br />
　Increasing the priority may reduce sound skipping during playback of PCM (uncompressed wave, OggVorbis, etc.), but transitions may become less smooth and responsiveness to operations may worsen.<br />
　By the way, what is specified here is the priority for normal decoding; in emergencies (when the remaining data in the buffer becomes short), the necessary priority is automatically secured.</dd>
<dt>-<a id="id27" name="id27" class="targanchor"><dfn>wssoft</dfn></a> (DirectSound software mixing)</dt>
<dd>　Setting for whether to perform mixing using software in DirectSound.<br />
　Possible values are <em>'yes' (perform software mixing)</em> or <em>'no' (do not perform software mixing)</em>; if this option is not specified, 'yes' is assumed.<br />
　With the standard setting, mixing is performed in software, so the CPU load is higher, but the possibility of avoiding hardware-specific bugs is higher. If there is no problem specifying 'no' (performing mixing in hardware), the CPU load may be reduced. With USB audio or inexpensive sound cards, mixing may always be performed by the CPU, so changing this option may have no effect.</dd>
<dt>-<a id="id28" name="id28" class="targanchor"><dfn>wsrecreate</dfn></a> (DirectSound secondary buffer recreation)</dt>
<dd>　Setting for whether to always recreate the secondary buffer in DirectSound.<br />
　Possible values are <em>'yes' (always recreate)</em> or <em>'no' (recreate as needed)</em>; if this option is not specified, 'no' is assumed.<br />
　In Kirikiri, once a secondary buffer is created, it is reused if conditions such as the number of channels and sampling frequency are the same, but specifying 'yes' will always recreate it without reuse. Depending on the environment, instabilities such as sound skipping or cutting at the start of playback may be improved.</dd>
<dt>-<a id="id29" name="id29" class="targanchor"><dfn>wsl1len</dfn></a> (DirectSound secondary buffer length)</dt>
<dd>　Setting for the length of the DirectSound secondary buffer.<br />
　Possible values are integers, specified in milliseconds. A minimum of 250ms is required. If this option is not specified, 1000 is assumed.<br />
　What is specified here is the length of the buffer actually secured as a DirectSound secondary buffer.<br />
　Generally, taking it longer makes playback stable but consumes memory.</dd>
<dt>-<a id="id30" name="id30" class="targanchor"><dfn>wsl2len</dfn></a> (DirectSound secondary auxiliary buffer length)</dt>
<dd>　Setting for the length of the secondary auxiliary buffer for the DirectSound secondary buffer.<br />
　Possible values are integers, specified in milliseconds. A minimum of 250ms is required. If this option is not specified, 1000 is assumed.<br />
　Kirikiri creates an auxiliary buffer for each DirectSound secondary buffer, accumulates decoded data in this auxiliary buffer, and then transfers it to the secondary buffer. The buffer length specified here is the length of that auxiliary buffer.<br />
　Normally, decoding and accumulation in the auxiliary buffer are performed in a low-priority thread, but transfer from the auxiliary buffer to the secondary buffer is performed in a high-priority thread.<br />
　Generally, taking it longer makes playback stable but consumes memory. Also, if control that changes the decoding process is applied, the delay until it is actually sounded becomes longer.</dd>
<dt>-<a id="id31" name="id31" class="targanchor"><dfn>wsmute</dfn></a> (DirectSound mute)</dt>
<dd>　Setting for whether to mute (lower the volume) when the application is inactive or minimized in DirectSound.<br />
　Possible values are <em>'never' (do not mute)</em>, <em>'minimize' (when minimized)</em>, or <em>'deactive' (when inactive)</em>; if this option is not specified, 'never' is assumed.<br />
　Selecting 'never' disables muting. 'minimize' and 'deactive' mute when the application is minimized or becomes inactive, respectively.<br />
　Only things played with WaveSoundBuffer (in KAG, when using 'Wave' for BGM and sound effects) are muted; MIDI and CDDA playback are not muted.</dd>
<dt>-<a id="id32" name="id32" class="targanchor"><dfn>wsmutevol</dfn></a> (DirectSound mute volume)</dt>
<dd>　Setting for the volume when muted with -wsmute (DirectSound mute).<br />
　Possible values are integers, specified in %.<br />
　Specifying "0%" results in complete silence, and specifying "50%" results in half volume (approx. -6dB).<br />
</dd>

<dt>-<a id="id33" name="id33" class="targanchor"><dfn>wsforcecnv</dfn></a> (DirectSound forced format conversion)</dt>
<dd>　Setting for whether to forcibly convert PCM data to be played by DirectSound into a specified format.<br />
　Possible values are <em>'none' (do not convert)</em>, <em>'i16' (convert to 16-bit integer)</em>, or <em>'i16m' (convert to 16-bit integer mono)</em>; if this option is not specified, 'none' is assumed.<br />
　Changing the setting may improve playback issues. If 'i16m' is selected, the -wsexpandquad option (DirectSound forced 4ch playback) setting is ignored.</dd>
<dt>-<a id="id34" name="id34" class="targanchor"><dfn>wsuse3d</dfn></a> (DirectSound 3D control)</dt>
<dd>　Setting for whether to perform 3D control in DirectSound.<br />
　Possible values are <em>'no' (do not perform)</em> or <em>'yes' (perform)</em>; if this option is not specified, 'no' is assumed.<br />
　Selecting 'yes' enables 3D control of sound, and WaveSoundBuffer.posX, WaveSoundBuffer.posY, and WaveSoundBuffer.posZ properties become effective (these properties are already implemented in the current version but are unsupported).<br />
　Also, in many environments, selecting 'yes' causes stereo or mono sounds to be expanded and played on surround speakers by DirectSound3D (for example, sound that was only played on front speakers will be played on all speakers in a 5.1ch environment).<br />
　If 'yes' is selected, the -wsexpandquad option (DirectSound forced 4ch playback) setting is ignored.</dd>


<dt>-<a id="id35" name="id35" class="targanchor"><dfn>wsexpandquad</dfn></a> (DirectSound forced 4ch playback)</dt>
<dd>　Setting for whether to forcibly play stereo or mono sounds in 4ch including rear speakers when playing in DirectSound.<br />
　Possible values are <em>'no' (do not perform)</em> or <em>'yes' (perform)</em>; if this option is not specified, 'no' is assumed.<br />
　Setting 'yes' allows sound to be played on both front and rear speakers even in environments where stereo or mono sounds are only played on front speakers.</dd>
<dt>-<a id="id36" name="id36" class="targanchor"><dfn>wsfreq</dfn></a> (DirectSound primary buffer frequency)</dt>
<dd>　Setting for the playback frequency of the DirectSound primary buffer.<br />
　Possible values are positive natural numbers representing the frequency in Hz; if this option is not specified, '44100' is assumed.<br />
　Especially in environments using WDM-based sound drivers (Windows 2000, XP or later, etc.), changing the setting may not result in any change in the playback state.</dd>
<dt>-<a id="id37" name="id37" class="targanchor"><dfn>wsbits</dfn></a> (DirectSound primary buffer bit depth)</dt>
<dd>　Setting for the playback bit depth of the DirectSound primary buffer.<br />
　Possible values are <em>'i8' (8-bit integer)</em>, <em>'i16' (16-bit integer)</em>, <em>'i24' (24-bit integer)</em>, <em>'i32' (32-bit integer)</em>, or <em>'f32' (32-bit floating point)</em>; if this option is not specified, 'i16' is assumed.<br />
　Especially in environments using WDM-based sound drivers (Windows 2000, XP or later, etc.), changing the setting may not result in any change in the playback state.</dd>
<dt>-<a id="id38" name="id38" class="targanchor"><dfn>wscontrolpri</dfn></a> (DirectSound primary buffer playback control)</dt>
<dd>　Setting for whether to perform play/stop control on the DirectSound primary buffer.<br />
　Possible values are <em>'yes' (perform)</em> or <em>'no' (do not perform)</em>; if this option is not specified, 'yes' is assumed.<br />
　Rarely, changing the setting seems to improve sound skipping or cutting in some environments.</dd>
<dt>-<a id="id39" name="id39" class="targanchor"><dfn>wspritry</dfn></a> (DirectSound primary buffer setting trial level)</dt>
<dd>　Setting for how many settings to try when specifying the format of the DirectSound primary buffer.<br />
　Possible values are <em>'0' to '2' (Level 0 to Level 2)</em> or <em>'all'</em>; if this option is not specified, 'all' is assumed.<br />
　Specifying Level 0 attempts to set the format to stereo 16-bit integer.<br />
　Specifying Level 1 attempts to set the format to 16-bit integer with the number of channels according to the system speaker settings before trying Level 0.<br />
　Specifying Level 2 attempts to set the format using the WAVEFORMATEX structure with the bit depth specified in "DirectSound primary buffer bit depth" and the number of channels according to the system speaker settings before trying Level 1.<br />
　Specifying "all" attempts to specify the format using the WAVEFORMATEXTENSIBLE structure with settings similar to Level 2 before trying Level 2.</dd></dl></div></div>
<h1><a id="id40" name="id40">Graphic Related Options</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id41" name="id41" class="targanchor"><dfn>gclim</dfn></a> (Image cache limit)</dt>
<dd>　Setting for the maximum amount of memory used for image caching.<br />
　Possible values are <em>'auto'</em> or an integer value; if an integer value is specified, the memory used for image caching is specified in MB. If this option is not specified, 'auto' is assumed.<br />
　Kirikiri has a mechanism to cache images so that once loaded images can be accessed quickly. Specifies the limit value for the memory used for that.<br />
　Specifying 'auto' automatically determines the value based on the amount of physical memory installed in the computer.<br />
　Specifying '0' disables caching.<br />
　If swapping occurs frequently during Kirikiri execution, specifying a smaller value or '0' may improve it.</dd>
<dt>-<a id="id42" name="id42" class="targanchor"><dfn>fsbpp</dfn></a> (Color mode in fullscreen)</dt>
<dd>　Setting for the color mode in fullscreen.<br />
　Possible values are <em>'nochange' (do not change)</em>, <em>'16' (16-bit color)</em>, <em>'24' (24-bit color)</em>, or <em>'32' (32-bit color)</em>; if this option is not specified, 'nochange' is assumed.<br />
　Specifying 'nochange' results in the same color mode as in non-fullscreen mode.<br />
　This option can be changed dynamically, but the value will be reflected the next time you try to go fullscreen.<br />
</dd>
<dt>-<a id="id43" name="id43" class="targanchor"><dfn>fsres</dfn></a> (Screen resolution in fullscreen)</dt>
<dd>　Setting for the screen resolution in fullscreen.<br />
　Possible values are <em>'auto'</em>, <em>'proportional' (resolution with the same aspect ratio)</em>, <em>'nearest' (closest resolution)</em>, or <em>'nochange' (do not change resolution)</em>; if this option is not specified, 'auto' is assumed.<br />
　Selecting 'auto' automatically selects and uses the most suitable screen resolution. In this case, among resolutions with the same aspect ratio, if there is a resolution that fits the resolution specified in the program, it is selected; if there is no such resolution, the engine performs enlarged display without changing the resolution. In this setting, even if 'no' is specified for the -fszoom (enlarged display by engine in fullscreen) option, it is always considered to be 'outer' (fit within monitor).<br />
　Selecting 'proportional' selects the closest resolution that is the same as or larger than the resolution specified in the program among resolutions with the same aspect ratio as in non-fullscreen mode.<br />
　Selecting 'nearest' selects the closest resolution that is the same as or larger than the resolution specified in the program, but there is no guarantee that a resolution with the same aspect ratio as in non-fullscreen mode will be selected. This setting may be suitable for CRT monitors or LCD monitors that support enlarged display while maintaining the screen aspect ratio.<br />
　Selecting 'nochange' does not change the resolution, keeping the resolution as in non-fullscreen mode.<br />
　This option can be changed dynamically, but the value will be reflected the next time you try to go fullscreen.<br />
</dd>
<dt>-<a id="id44" name="id44" class="targanchor"><dfn>fszoom</dfn></a> (Enlarged display by engine in fullscreen)</dt>
<dd>　Specifies how the engine performs screen enlargement in fullscreen.<br />
　Possible values are <em>'inner' (fit within monitor)</em>, <em>'outer' (expand to fill monitor)</em>, or <em>'no' (do not perform)</em>; if this option is not specified, 'inner' is assumed.<br />
　Selecting 'inner' performs enlargement by the engine if necessary. Necessary means when the screen resolution is different from the resolution specified in the program (if the screen resolution is lower than the resolution specified in the program, it will be a reduction process). At this time, enlargement is performed while maintaining the aspect ratio of the resolution specified in the program, but if the monitor's aspect ratio and this aspect ratio are different, gaps may appear at the top and bottom or left and right. These gaps are always displayed in a completely black state.<br />
　Specifying 'outer' performs enlargement by the engine if necessary, same as when 'inner' is specified. However, unlike 'inner', if the monitor's aspect ratio and the aspect ratio specified in the program are different, enlargement is performed to the maximum so that no gaps appear at the top and bottom or left and right. Therefore, no gaps appear, but the screen may protrude outside the monitor. With this setting, for example, when displaying 16:9 content on a 16:10 monitor, it is possible to display it enlarged to the maximum without showing gaps. Of course, this results in areas protruding to the left and right, so if you are creating content assuming such a display, measures such as not displaying important UI or text in the protruding parts are necessary.<br />
　Selecting 'no' does not perform enlargement by the engine even if necessary. In this case, even if the screen resolution is different from the resolution specified in the program, enlargement by the engine side is not performed (as a result, the image may be displayed small in the center of the screen).<br />
　If the monitor's native resolution and the resolution of the signal output by the graphic card are different, LCD monitors etc. may perform enlarged display on the monitor side; however, if enlarged display is performed on the engine side after enlargement processing on the monitor side, enlargement will be performed twice, and the image may become ugly, so please be careful (the "auto" option of -fsres automatically selects a combination that prevents such double enlarged display).<br />
　This option can be changed dynamically, but the value will be reflected the next time you try to go fullscreen.<br />
</dd>

<dt>-<a id="id45" name="id45" class="targanchor"><dfn>gsplit</dfn></a> (Split processing of image operations)</dt>
<dd>　Setting for whether to perform image operations by splitting them into small parts.<br />
　Possible values are <em>'yes' (perform)</em>, <em>'int' (interlace split)</em>, <em>'bidi' (bidirectional split)</em>, or <em>'no' (do not perform)</em>; if this option is not specified, 'yes' is assumed.<br />
　Kirikiri performs operations while splitting into small areas when drawing images to effectively use the CPU's memory cache. Depending on the environment, this seems to lead to screen flickering. In such environments, specifying 'no' may suppress flickering, but drawing performance may also decrease. If double buffering is enabled, the meaning of not performing split processing is thin, so it is recommended to set it to perform split processing.<br />
　Specifying 'int' processes image operation units every other one, but stripes may be visible when the screen is updated. Selecting 'bidi' repeats top-to-bottom and bottom-to-top in the order of image operations (in the case of 'yes', it is always top-to-bottom).</dd>
<dt>-<a id="id46" name="id46" class="targanchor"><dfn>smoothzoom</dfn></a> (Smoothing during enlarged display)</dt>
<dd>　Setting for whether to perform smoothing (interpolation during enlargement) when performing enlarged display of content with Window.setZoom etc., or when Kirikiri performs enlarged (reduced) display of the screen with the -fsres option (this has nothing to do with enlargement/reduction with Layer.affineCopy etc.).<br />
　Possible values are <em>'no' (do not perform)</em> or <em>'yes' (perform)</em>; if this option is not specified, 'yes' is assumed.<br />
　Performing smoothing makes the image smooth but gives it a slightly blurred feel. Not performing smoothing makes the image sharp but makes jagged edges more noticeable.<br />
　Depending on the environment, performance may decrease if smoothing is not performed. Also, there may be environments where smoothing does not work.<br />
　Some third-party drawing devices (devices set with the Window.drawDevice property) may not be affected by this option.<br />
　This option can be changed dynamically, but there is no guarantee that the value will be reflected immediately.<br />
</dd>

<dt>-<a id="id47" name="id47" class="targanchor"><dfn>aamethod</dfn></a> (Anti-aliased character drawing method)</dt>
<dd>　Setting for the anti-aliased character drawing method.<br />
　Possible values are <em>'auto'</em>, <em>'res4' (resampling 4x4)</em>, <em>'res8' (resampling 8x8)</em>, or <em>'api' (Windows API)</em>; if this option is not specified, 'auto' is assumed.<br />
　In the case of 'auto', 'api' is automatically selected in the current version.<br />
　In 'res4' or 'res8', characters are drawn at several times the size (4x4 or 8x8) and then reduced to achieve anti-aliasing. res4 is faster than res8, but precision is lower.<br />
　In 'api', anti-aliased characters are drawn using the GetGlyphOutline API, but it seems to be an API with many inconveniences and may not draw correctly depending on the environment.</dd>
<dt>-<a id="id48" name="id48" class="targanchor"><dfn>jpegdec</dfn></a> (JPEG image decoding precision)</dt>
<dd>　Setting for the precision of JPEG image decoding (expansion).<br />
　Possible values are <em>'high'</em>, <em>'normal'</em>, or <em>'low'</em>; if this option is not specified, 'normal' is assumed.<br />
　Specifying 'high' makes decoding slow but image quality high. Specifying 'low' makes decoding fast but image quality low. However, there is almost no difference in appearance.</dd>
<dt>-<a id="id49" name="id49" class="targanchor"><dfn>drawthread</dfn></a> (Number of drawing threads)</dt>
<dd>　Setting for the number of threads to use during drawing processing.<br />
　Possible values are <em>any numerical value</em> or <em>'auto'</em>; if this option is not specified, '1' is assumed.<br />
　Specifying 'auto' automatically assigns the same number of threads as the number of processors recognized by the OS.<br />
　Setting multiple drawing threads may improve drawing performance in multi-core environments, but conversely, performance may decrease.<br />
　Good results may be obtained by applying it to processes with large drawing areas, high-load Affine-related processes, heavy layer synthesis processes, etc.<br />
　Even if set to use multi-threading, if the system determines that the drawing process load is light and the effect of multi-threading cannot be obtained, it may not be executed in multi-threading.<br />
</dd>
<dt>-<a id="id50" name="id50" class="targanchor"><dfn>bitmapallocator</dfn></a> (Bitmap memory allocation method Ver 1.1 or later)</dt>
<dd>　Specifies how to secure memory for bitmaps.<br />
　Possible values are <em>'globalalloc' (secure with GlobalAlloc)</em>, <em>'separateheap' (use separate heap)</em>, or <em>'malloc' (use malloc)</em>; if this option is not specified, 'globalalloc' is assumed.<br />
　Using separateheap may reduce memory fragmentation and avoid out-of-memory error issues.</dd>
<dt>-<a id="id51" name="id51" class="targanchor"><dfn>bitmapheapsize</dfn></a> (Initial separate heap size Ver 1.1 or later)</dt>
<dd>　Specifies the initial size when "use separate heap" is chosen for the bitmap memory allocation method.<br />
　Possible values are <em>'auto' (automatic (recommended))</em>, <em>'0' (expand automatically)</em>, <em>'64' (64MB)</em>, <em>'128' (128MB)</em>, <em>'256' (256MB)</em>, <em>'512' (512MB)</em>, <em>'1024' (1024MB)</em>, or <em>'2048' (2048MB)</em>; if this option is not specified, 'auto' is assumed.<br />
　Normally auto is fine, but adjusting the initial value may reduce memory fragmentation and avoid out-of-memory error issues.</dd></dl></div></div>

<h1><a id="id52" name="id52">CPU Feature Related Options</a>
</h1><div class="para"><div>
　For all the following options, possible values are <em>'yes' (use if available)</em>, <em>'no' (do not use even if available)</em>, or <em>'force' (forcibly use)</em>; if the option is not specified, 'yes' is assumed.<br />
　If CPU recognition trouble occurs, setting to 'no' will not use that feature.<br />
　'force' will forcibly use the CPU feature even if it is not detected, but of course, it will not work normally if the CPU does not have that feature.<br />
　Only -cpummx -cpucmov -cpusse -cpuemmx options affect the Kirikiri core itself. -cpusse, -cpummx, and -cpu3dn options affect the OggVorbis decoder (wuvorbis.dll). Other (third-party) plugins may also be affected by CPU feature settings.<br />
<br />
<ul><li>-<a id="id53" name="id53" class="targanchor"><dfn>cpummx</dfn></a> (MMX)</li><li>-<a id="id54" name="id54" class="targanchor"><dfn>cpu3dn</dfn></a> (3DNow!)</li><li>-<a id="id55" name="id55" class="targanchor"><dfn>cpusse</dfn></a> (SSE)</li><li>-<a id="id56" name="id56" class="targanchor"><dfn>cpucmov</dfn></a> (CMOVcc)</li><li>-<a id="id57" name="id57" class="targanchor"><dfn>cpue3dn</dfn></a> (Enhanced 3DNow!)</li><li>-<a id="id58" name="id58" class="targanchor"><dfn>cpuemmx</dfn></a> (EMMX (MMX2))</li><li>-<a id="id59" name="id59" class="targanchor"><dfn>cpusse2</dfn></a> (SSE2)</li><li>-<a id="id60" name="id60" class="targanchor"><dfn>cpusse3</dfn></a> (SSE3)</li><li>-<a id="id61" name="id61" class="targanchor"><dfn>cpussse3</dfn></a> (SSSE3)</li><li>-<a id="id62" name="id62" class="targanchor"><dfn>cpusse41</dfn></a> (SSE4.1)</li><li>-<a id="id63" name="id63" class="targanchor"><dfn>cpusse42</dfn></a> (SSE4.2)</li><li>-<a id="id64" name="id64" class="targanchor"><dfn>cpusse4a</dfn></a> (SSE4a)</li><li>-<a id="id65" name="id65" class="targanchor"><dfn>cpuavx</dfn></a> (AVX)</li><li>-<a id="id66" name="id66" class="targanchor"><dfn>cpuavx2</dfn></a> (AVX2)</li><li>-<a id="id67" name="id67" class="targanchor"><dfn>cpufma3</dfn></a> (FMA3)</li><li>-<a id="id68" name="id68" class="targanchor"><dfn>cpuaes</dfn></a> (AES)</li></ul></div></div>


<h1><a id="id69" name="id69">Debug Related Options</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id70" name="id70" class="targanchor"><dfn>debug</dfn></a> (Debug mode)</dt>
<dd>　Setting for whether to operate Kirikiri in debug mode <span class="comlink"> ( -> <a target="main" class="jump" href="Debug.html">Debug</a> ) </span>.<br />
　Possible values are <em>'no' (disabled)</em> or <em>'yes' (enabled)</em>; if this option is not specified, 'no' is assumed.<br />
　When enabled, Kirikiri operates in debug mode and several debug support features are enabled, but execution speed is lower than in normal mode.</dd>

<dt>-<a id="id71" name="id71" class="targanchor"><dfn>forcelog</dfn></a> (Log to file)</dt>
<dd>　Setting for whether to output console logs to a file.<br />
　Possible values are <em>'no' (do not output)</em>, <em>'yes' (append to existing file)</em>, or <em>'clear' (clear existing file before outputting)</em>; if this option is not specified, 'no' is assumed.
</dd>
<dt>-<a id="id72" name="id72" class="targanchor"><dfn>logerror</dfn></a> (Log to file on error)</dt>
<dd>　Setting for whether to output console logs to a file when an error occurs.<br />
　Possible values are <em>'no' (do not output)</em>, <em>'yes' (append to existing file)</em>, or <em>'clear' (clear existing file before outputting)</em>; if this option is not specified, 'yes' is assumed.
</dd></dl></div></div>




<h1><a id="id73" name="id73">System Compatibility Related Options</a>
</h1><div class="para"><div>
<dl>
<dt>-<a id="id74" name="id74" class="targanchor"><dfn>arcdelim</dfn></a> (Archive delimiter)</dt>
<dd>　Specifies the archive delimiter (the character that separates the archive storage name and the storage name within the archive).<br />
　Possible values are <em>'>' (use '>')</em> or <em>'#' (use '#')</em>; if this option is not specified, '>' is assumed.<br />
　The archive delimiter was changed from the traditional '#' to '>' in Kirikiri 2 2.19 beta 14.<br />
　Applications that operated in versions earlier than 2.19 beta 14 may stop working due to this change, but they can be made to work by changing the delimiter to '#' with this option.<br />
</dd>

<dt>-<a id="id75" name="id75" class="targanchor"><dfn>evalcontext</dfn></a> (Behavior of postfix '!' operator)</dt>
<dd>　Specifies the behavior of the TJS2 postfix '!' operator.<br />
　Possible values are <em>'this' (evaluate expression on this)</em> or <em>'global' (evaluate expression on global)</em>; if this option is not specified, 'this' is assumed.<br />
　The TJS2 postfix '!' operator used to execute expressions on the global context, but from 2.21 beta 9, it executes on the this context.<br />
Applications assuming versions earlier than 2.21 beta 9 may not work unless this setting is set to "evaluate expression on global".</dd>

<dt>-<a id="id76" name="id76" class="targanchor"><dfn>holdalpha</dfn></a> (Default value of Layer.holdAlpha property)</dt>
<dd>　Specifies the default value of the <a target="main" class="jump" href="f_Layer_holdAlpha.html">Layer.holdAlpha</a> property.<br />
　Possible values are <em>'false'</em> or <em>'true'</em>; if this option is not specified, 'false' is assumed.<br />
　In Kirikiri 2 2.23 beta 4, the hda (whether to protect the alpha channel) option specified in various operation functions was removed, and the Layer.holdAlpha property was created instead. At that point, the default value of Layer.holdAlpha was true. If Layer.holdAlpha is true, it does not affect the operation of past applications.<br />
　In Kirikiri 2 2.23 beta 5, this default value became false. If you want to run an application assuming versions earlier than Kirikiri 2 2.23 beta 5, it may not work correctly unless "true" is specified for this option.</dd>

<dt>-<a id="id77" name="id77" class="targanchor"><dfn>unaryaster</dfn></a> (Behavior of prefix '*' operator)</dt>
<dd>　Specifies the behavior of the TJS2 prefix '*' operator.<br />
　Possible values are <em>'default' (behavior of 2.25 or later)</em> or <em>'compat' (behavior of earlier than 2.25)</em>; if this option is not specified, 'default' is assumed.<br />
　The TJS2 prefix '*' operator was an operator to retrieve the property object itself without going through the property handler, but from 2.25 beta 1, the operator with this function became the prefix '&amp;', and the prefix '*' operator became an operator to operate the property handler of the property object. Applications assuming versions earlier than 2.25 beta 1 may not work correctly unless this setting is set to "compatible with earlier than 2.25".</dd>

<dt>-<a id="id78" name="id78" class="targanchor"><dfn>wsvolfactor</dfn></a> (DirectSound volume curve)</dt>
<dd>　Possible values are <em>'3322' (behavior of 2.31 2011/6/14 or later)</em> or <em>'5000' (behavior of earlier than 2.31 2011/6/14)</em>; if this option is not specified, '3322' is assumed.<br />
　The DirectSound volume curve became a more intuitive curve from 2.31 2011/6/14.<br />
</dd>

<dt>-<a id="id79" name="id79" class="targanchor"><dfn>readencoding</dfn></a> (Script reading character code)</dt>
<dd>　Possible values are <em>'Shift_JIS' (Kirikiri 2 compatible behavior)</em> or <em>'UTF-8' (Kirikiri Z behavior)</em>; if this option is not specified, 'UTF-8' is assumed.<br />
　The character code used to read scripts.<br />
</dd>

<dt>-<a id="id80" name="id80" class="targanchor"><dfn>ignoretouch</dfn></a> (Disable touch events 1.3.0 or later)</dt>
<dd>　Possible values are <em>'false'</em> or <em>'true'</em>; if this option is not specified, 'false' is assumed.<br />
　Specifying 'true' disables touch events and generates mouse events instead.<br />
</dd>


</dl></div></div>


	<script type="text/javascript" charset="UTF-8" src="documentid.js" ></script>
	<script type="text/javascript" charset="UTF-8" src="postcontent.js" ></script>
</body>
</html>