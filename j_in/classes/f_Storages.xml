<?xml version="1.0" encoding="UTF-8" ?>
<doc>
<title>Storages</title>
<desc>
 The Storages class contains methods and properties related to the Kirikiri <kw>storage system</kw>. You cannot create objects from this class.<r/>
</desc>

<member>
	<name>addAutoPath</name>
	<type>method</type>
	<shortdesc>Add to auto-search path</shortdesc>
	<arg>
		<argitem>
			<name>path</name>
			<default></default>
			<desc>
				 Specifies the path to add to the auto-search path.<r/>
				 The path must end with '>' when specifying the root folder within an archive, or '/' when
				 specifying a normal folder
				 ( e.g. : <tt>"Archive/arc.xp3&gt;"</tt> or <tt>"System/"</tt> ) .<r/>
				 Since 2.19 beta 14, the archive delimiter has changed from '#' to '&gt;'.<r/>
			</desc>
		</argitem>
	</arg>
	<result></result>
	<desc>
		 Adds the specified path to the <kw>auto-search path</kw>. When Kirikiri searches for available storage,
		 it looks through the paths registered in this auto-search path.<r/>
		 Paths added later have higher priority during the search.<r/>
		 Additionally, the project folder always has the highest priority.<r/>
	</desc>
	<ref>Storages.removeAutoPath</ref>
</member>

<member>
	<name>removeAutoPath</name>
	<type>method</type>
	<shortdesc>Remove from auto-search path</shortdesc>
	<arg>
		<argitem>
			<name>path</name>
			<default></default>
			<desc>
				 Specifies the path to remove from the auto-search path.<r/>
			</desc>
		</argitem>
	</arg>
	<result></result>
	<desc>
		 Removes the specified path from the auto-search path.<r/>
	</desc>
	<ref>Storages.addAutoPath</ref>
</member>

<member>
	<name>getFullPath</name>
	<type>method</type>
	<shortdesc>Get full unified storage name</shortdesc>
	<arg>
		<argitem>
			<name>path</name>
			<default></default>
			<desc>
				 Specifies the storage name to convert into a full unified storage name.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Full unified storage name</result>
	<desc>
		 Converts the storage name specified by path into a full <kw>unified storage name</kw>.<r/>
		 Redundant path access ( e.g. <tt>system/flags/../data/</tt> etc. ) is fully compressed.<r/>
		 If the current media or current folder is not specified, they will be complemented.<r/>
	</desc>
	<ref>Storages.getPlacedPath</ref>
</member>

<member>
	<name>getPlacedPath</name>
	<type>method</type>
	<shortdesc>Search for storage</shortdesc>
	<arg>
		<argitem>
			<name>storage</name>
			<default></default>
			<desc>
				 Specifies the storage name to search for.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the location where it was found as a unified storage name. Returns an empty string if not found.</result>
	<desc>
		 Searches for the storage specified by storage within the <kw>auto-search path</kw>.<r/>
	</desc>
	<ref>Storages.getFullPath</ref>
	<ref>Storages.isExistentStorage</ref>
</member>

<member>
	<name>isExistentStorage</name>
	<type>method</type>
	<shortdesc>Check for storage existence</shortdesc>
	<arg>
		<argitem>
			<name>storage</name>
			<default></default>
			<desc>
				 Specifies the storage name to check for existence.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns true if existence is confirmed, false otherwise.</result>
	<desc>
		 Checks whether the storage specified by storage exists. This is faster than using getPlacedPath.<r/>
	</desc>
	<ref>Storages.getPlacedPath</ref>
</member>

<member>
	<name>extractStorageExt</name>
	<type>method</type>
	<shortdesc>Extract storage name extension</shortdesc>
	<arg>
		<argitem>
			<name>storage</name>
			<default></default>
			<desc>
				 Specifies the storage name from which to extract the extension part.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the extension part. The extension part includes the <tt>.</tt> (dot). Returns an empty string if there is no extension.</result>
	<desc>
		 Extracts and returns the extension part from the specified storage name.<r/>
	</desc>
	<ref>Storages.extractStorageName</ref>
	<ref>Storages.extractStoragePath</ref>
	<ref>Storages.chopStorageExt</ref>
</member>

<member>
	<name>extractStorageName</name>
	<type>method</type>
	<shortdesc>Extract storage name</shortdesc>
	<arg>
		<argitem>
			<name>storage</name>
			<default></default>
			<desc>
				 Specifies the storage name from which to extract the filename part.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the storage name. Returns an empty string if there is no storage name.</result>
	<desc>
		 Extracts and returns the storage name part (excluding the path) from the specified storage name.<r/>
		 For example, if <tt>"System/hoge.txt"</tt> is passed, <tt>"hoge.txt"</tt> is returned.<r/>
	</desc>
	<ref>Storages.extractStorageExt</ref>
	<ref>Storages.extractStoragePath</ref>
</member>

<member>
	<name>extractStoragePath</name>
	<type>method</type>
	<shortdesc>Extract storage name path</shortdesc>
	<arg>
		<argitem>
			<name>storage</name>
			<default></default>
			<desc>
				 Specifies the storage name from which to extract the path.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the path. Returns an empty string if there is no path.</result>
	<desc>
		 Extracts and returns the path part from the specified storage name.<r/>
		 For example, if <tt>"file://home/dee/hoge.txt"</tt> is passed, <tt>"file://home/dee/"</tt> is
		returned.<r/>
	</desc>
	<ref>Storages.extractStorageExt</ref>
	<ref>Storages.extractStorageName</ref>
</member>

<member>
	<name>chopStorageExt</name>
	<type>method</type>
	<shortdesc>Chop storage name extension</shortdesc>
	<arg>
		<argitem>
			<name>storage</name>
			<default></default>
			<desc>
				 Specifies the storage name from which to chop the extension part.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the storage name with the extension part removed.</result>
	<desc>
		 Chops off the extension part from the specified storage name and returns it.<r/>
		 For example, if <tt>"file://home/dee/hoge.txt"</tt> is passed, <tt>"file://home/dee/hoge"</tt> is returned.
	</desc>
	<ref>Storages.extractStorageExt</ref>
</member>


<member>
	<name>searchCD</name>
	<type>method</type>
	<shortdesc>Search for CD</shortdesc>
	<arg>
		<argitem>
			<name>volume</name>
			<default></default>
			<desc>
				 Specifies the volume label of the CD to search for.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the drive letter of the found CD-ROM drive.</result>
	<desc>
		 Searches for a CD drive with the specified volume label and returns its drive letter ( e.g. 'H' ).<r/>
		 Naturally, the corresponding CD-ROM must be inserted in the drive.<r/>
	</desc>
</member>

<member>
	<name>getLocalName</name>
	<type>method</type>
	<shortdesc>Get local filename</shortdesc>
	<arg>
		<argitem>
			<name>path</name>
			<default></default>
			<desc>
				 Specifies the unified storage name to convert into a <kw>local filename</kw>.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the local filename. If it cannot be converted to a local filename, an empty string is returned or an exception occurs.</result>
	<desc>
		 Converts the specified unified storage name into the OS native format ( local filename ) and returns it.<r/>
	</desc>
</member>

<member>
	<name>selectFile</name>
	<type>method</type>
	<shortdesc>Display file selection dialog box</shortdesc>
	<arg>
		<argitem>
			<name>params</name>
			<default></default>
			<desc>
				 Specifies a dictionary array used for data transfer.<r/>
				 When passing to this method, the following members can be specified. Additionally,
				 some members will have their values changed after this method finishes.<r/>
				<r/>
				<dl>
				<dt><kw>filter</kw></dt>
				<dd>
					 Passes filter strings as an array.<r/>
					 A filter string consists of a filter description and the filter itself separated
					 by | (vertical bar), where the filter uses wildcards. If multiple extensions
					 correspond to one filter, separate them with ; (semicolon).<r/>
					 To specify multiple filters, use an array.<r/>
					 If omitted, no filter is used.<r/>
					<r/>
					Example :<r/>
					<tt><nobr>["Image files(*.bmp;*.png;*.jpg;*.jpeg;*.eri;*.tlg)|*.bmp;*.png;*.jpg;*.jpeg;*.eri;*.tlg", </nobr></tt><r/>
					<tt><nobr> "Script files(*.tjs;*.ks)|*.tjs;*.ks"]</nobr></tt><r/>
				</dd>
				<r/>
				<dt><kw>filterIndex</kw></dt>
				<dd>
					 Specifies the number of the selected filter (as specified in filter).<r/>
					 If 1 is specified, the first filter specified in filter is selected by default.
					 If 2 is specified, the second filter is selected (note that this is not a 0-based
					 index; the first is 1).<r/>
					 If omitted, the first filter is selected.<r/>
					 Also, if the user clicks the OK button, the index of the filter last selected
					 in the dialog box is set to this member.<r/>
				</dd>
				<r/>
				<dt><kw>name</kw></dt>
				<dd>
					 Specifies the filename. If omitted or an empty string is specified, no file will
					 be selected initially.<r/>
					 Also, if the user clicks the OK button, the selected file is set to this member.<r/>
				</dd>
				<r/>
				<dt><kw>initialDir</kw></dt>
				<dd>
					 Specifies the folder to display initially.<r/>
					 If omitted, the current directory is used.<r/>
				</dd>
				<r/>
				<dt><kw>title</kw></dt>
				<dd>
					 Displays the title of the dialog box.<r/>
					 If omitted, it defaults to "Open" or "Save As" (depending on the save member setting).
				</dd>
				<r/>
				<dt><kw>save</kw></dt>
				<dd>
					 Specifies the type of dialog box.<r/>
					 If false (default), the "Open" dialog box is used.<r/>
					 If true, the "Save As" dialog box is used.<r/>
				</dd>
				<r/>
				<dt><kw>defaultExt</kw></dt>
				<dd>
					 Specifies the default extension. This extension is automatically appended if the
					 user does not specify one. Do not include the . (period) in the extension
					 specified here.<r/>
					 If omitted, no extension will be appended.<r/>
				</dd>
				</dl>
			</desc>
		</argitem>
	</arg>
	<result>Returns true if the user selects a file and clicks the OK button, false if they click the Cancel button.</result>
	<desc>
		 Opens a file selection dialog box.<r/>
		<example>
var params = %[<r/>
filter : [ "Text files(*.txt)|*.txt", "Binary files(*.bin)|*.bin" ],<r/>
filterIndex : 1,<r/>
name : "",<r/>
initialDir : System.exePath,<r/>
title : "Open File",<r/>
save : false,<r/>
];<r/>
if(Storages.selectFile(params))<r/>
System.inform("Selected file is: " + params.name);<r/>
		</example>
	</desc>
</member>



</doc>