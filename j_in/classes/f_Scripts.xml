<?xml version="1.0" encoding="UTF-8" ?>
<doc>
<title>Scripts</title>
<desc>
 The Scripts class manages methods and properties related to TJS2. You cannot create objects from this class.<r/>
</desc>

<member>
	<name>execStorage</name>
	<type>method</type>
	<shortdesc>Execution of a script on storage</shortdesc>
	<arg>
		<argitem>
			<name>storage</name>
			<default></default>
			<desc>
				 Specifies the storage to execute.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>mode</name>
			<default>''</default>
			<desc>
				 Specifies the mode string when reading the file. If "o" is followed by a decimal offset, reading starts from that byte position in the file.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>context</name>
			<default>global</default>
			<desc>
				 Specifies the execution context.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the result of the script execution.</result>
	<desc>
		 Reads the specified storage and executes its content as a TJS2 script.<r/>
		 Exceptions occurring during script execution are not caught within this method, so they can be caught by the caller of this method.<r/>
	</desc>
	<ref>Scripts.evalStorage</ref>
</member>

<member>
	<name>evalStorage</name>
	<type>method</type>
	<shortdesc>Evaluation of an expression on storage</shortdesc>
	<arg>
		<argitem>
			<name>storage</name>
			<default></default>
			<desc>
				 Specifies the storage to evaluate.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>mode</name>
			<default>''</default>
			<desc>
				 Specifies the mode string when reading the file. If "o" is followed by a decimal offset, reading starts from that byte position in the file.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>context</name>
			<default>global</default>
			<desc>
				 Specifies the execution context.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the result of the expression evaluation.</result>
	<desc>
		 Reads the specified storage and evaluates its content as a TJS2 expression.<r/>
		 Exceptions occurring during script execution are not caught within this method, so they can be caught by the caller of this method.<r/>
	</desc>
	<ref>Scripts.execStorage</ref>
</member>

<member>
	<name>compileStorage</name>
	<type>method</type>
	<shortdesc>Compilation of a script on storage</shortdesc>
	<arg>
		<argitem>
			<name>inputfile</name>
			<default></default>
			<desc>
				 Specifies the storage to be compiled.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>outputfile</name>
			<default></default>
			<desc>
				 Specifies the output bytecode storage.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>isresult</name>
			<default>false</default>
			<desc>
				 Specifies whether a return value is required.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>outputdebug</name>
			<default>false</default>
			<desc>
				 Specifies whether to include debug information.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>isexpression</name>
			<default>false</default>
			<desc>
				 Specifies whether it is an expression.<r/>
			</desc>
		</argitem>
	</arg>
	<result></result>
	<desc>
		 Reads the specified storage, compiles its content, and outputs it as a bytecode file.<r/>
		 Compiled bytecode files can be executed with execStorage or evalStorage just like normal scripts.<r/>
	</desc>
	<ref>Scripts.execStorage</ref>
	<ref>Scripts.evalStorage</ref>
</member>

<member>
	<name>exec</name>
	<type>method</type>
	<shortdesc>Execution of a script</shortdesc>
	<arg>
		<argitem>
			<name>script</name>
			<default></default>
			<desc>
				 Specifies the script to execute as a string.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>name</name>
			<default>''</default>
			<desc>
				 Specification of the filename for error messages
			</desc>
		</argitem>
		<argitem>
			<name>linesof</name>
			<default>0</default>
			<desc>
				 Specification of the line number for error messages
			</desc>
		</argitem>
		<argitem>
			<name>context</name>
			<default>global</default>
			<desc>
				 Specifies the execution context.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the result of the script execution.</result>
	<desc>
		 Executes the string specified by script as a TJS2 script.<r/>
		 Exceptions occurring during script execution are not caught within this method, so they can be caught by the caller of this method.<r/>
	</desc>
	<ref>Scripts.execStorage</ref>
	<ref>Scripts.eval</ref>
</member>

<member>
	<name>eval</name>
	<type>method</type>
	<shortdesc>Evaluation of an expression</shortdesc>
	<arg>
		<argitem>
			<name>expression</name>
			<default></default>
			<desc>
				 Specifies the expression to execute as a string.<r/>
			</desc>
		</argitem>
		<argitem>
			<name>name</name>
			<default>''</default>
			<desc>
				 Specification of the filename for error messages
			</desc>
		</argitem>
		<argitem>
			<name>linesof</name>
			<default>0</default>
			<desc>
				 Specification of the line number for error messages
			</desc>
		</argitem>
		<argitem>
			<name>context</name>
			<default>global</default>
			<desc>
				 Specifies the execution context.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Returns the result of the expression evaluation.</result>
	<desc>
		 Executes the string specified by expression as a TJS2 expression.<r/>
		 Exceptions occurring during script execution are not caught within this method, so they can be caught by the caller of this method.<r/>
	</desc>
	<ref>Scripts.execStorage</ref>
	<ref>Scripts.exec</ref>
</member>

<member>
	<name>dump</name>
	<type>method</type>
	<shortdesc>Dump of contexts</shortdesc>
	<arg></arg>
	<result></result>
	<desc>
		 Outputs details of each context within the script blocks currently loaded into TJS2 to a local file. Mainly, the disassembly results of VM code are output.<r/>
		 The output file is created in the same folder as the KiriKiri executable, and its filename will be the KiriKiri executable name with .dump.txt appended.<r/>
	</desc>
</member>

<member>
	<name>getTraceString</name>
	<type>method</type>
	<shortdesc>Acquisition of call history</shortdesc>
	<arg>
		<argitem>
			<name>limit</name>
			<default>0</default>
			<desc>
				 Specifies the maximum call depth to retrieve history. If this argument is omitted or 0 is specified, it retrieves as much history as possible.<r/>
			</desc>
		</argitem>
	</arg>
	<result>The call history converted to a string</result>
	<desc>
		 Retrieves the method call history as a string. You can get the history at the point this method is called.<r/>
		 To use this method, the -debug (debug mode) command line option must be enabled. If debug mode is disabled, this method returns an empty string.<r/>
		 The returned string is something like 'messagelayer.tjs(1561)[(function) addButton] &lt;-- mainwindow.tjs(4463)[(function expression) (anonymous)] &lt;-- conductor.tjs(427)[(function) onTag] &lt;-- conductor.tjs(95)[(function) timerCallback]'.
	</desc>
</member>

<member>
	<name>setCallMissing</name>
	<type>method</type>
	<shortdesc>Registration of a handler called when a member is not found</shortdesc>
	<arg>
		<argitem>
			<name>missing</name>
			<default></default>
			<desc>
				 The handler called when a member is not found.<r/>
			</desc>
		</argitem>
	</arg>
	<result></result>
	<desc>
		 Registers a handler to be called when a member is not found.<r/>
	</desc>
</member>

<member>
	<name>getClassNames</name>
	<type>method</type>
	<shortdesc>Get class names</shortdesc>
	<arg>
		<argitem>
			<name>obect</name>
			<default></default>
			<desc>
				 The object to get class names from.<r/>
			</desc>
		</argitem>
	</arg>
	<result>Array of class names</result>
	<desc>
		 Gets class names from an object.<r/>
	</desc>
</member>

<member>
	<name>textEncoding</name>
	<type>property</type>
	<shortdesc>Specifies the text encoding used when reading scripts</shortdesc>
	<access>r/w</access>
	<desc>
		 Specifies the text encoding used when reading scripts.<r/>
		 Currently, either "UTF-8" or "Shift_JIS" can be specified.<r/>
	</desc>
</member>

</doc>