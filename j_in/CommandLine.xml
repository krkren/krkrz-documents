<?xml version="1.0" encoding="UTF-8" ?>
<doc>
<title>Command Line Options</title>

<para>
<ptitle>Command Line Options</ptitle>
KiriKiri's command line options can be specified from a normal command line, or saved to a configuration file using the <link href="Releaser" /> ( krkrrel.exe ) or <link href="Configure" /> ( -userconf ).<r/>
The order in which options are loaded is as follows:
<ol>
  <li>Options embedded in the KiriKiri core itself</li>
  <li>The .cf file located in the same directory as the KiriKiri core (filename is the same as the KiriKiri core)</li>
  <li>The .cfu file located in the data storage location, output by "Engine Configuration" (-userconf) (filename is the same as the KiriKiri core)</li>
  <li>Options specified on the command line</li>
</ol>
If the .cf or .cfu files do not exist, they are simply ignored. Options loaded later take higher priority.<r/>
<r/>
Command line options basically consist of a '-' (hyphen) followed by the option name. This is followed by an '=' and then the value of the option.<r/>
For example, if the value of the -cdvol option is direct, you specify it as -cdvol=direct.<r/>
<r/>
Except for "Startup Options," "Debug-related Options," and "System Compatibility Options," most are options for fine-tuning to resolve environment-dependent issues.<r/>
For resolving environment-dependent issues, please also refer to <link href="ComputerDependentProblems" />.<r/>
<r/>
<note>
With Releaser or -userconf, you can change these options by modifying the KiriKiri executable or external configuration files, but normally the defaults are fine. <b>It is not recommended to distribute executables or configuration files with these options changed from their defaults just because there is an issue in the developer's specific environment</b> (of course, there are options like -datapath that should be set according to the distribution or usage format).
</note>
<r/>
Items in the list below marked as "Dynamically changeable" can be modified using the <a href="f_System_setArgument.html">System.setArgument</a> method. Other options cannot be changed dynamically.<r/>
</para>



<para>
<ptitle>Startup Options</ptitle>
The following options are available for calling and using specific functions of KiriKiri.<r/>
<dl>
<dt>-<kw>userconf</kw> (Launch end-user configuration tool)</dt>
<dd>
Launches the built-in configuration tool for end users.<r/>
</dd>
<dt>-<kw>about</kw> (Display copyright information dialog box)</dt>
<dd>
Displays the "Version, Copyright, and Environment Information" dialog box.
</dd>
<dt>-<kw>sel</kw> (Display "Select Folder/Archive" dialog box)</dt>
<dd>
Displays the "Select Folder/Archive" dialog box. Data such as data.xp3 will not be automatically detected.<r/>
If you specify a folder as a command line parameter (without a hyphen at the beginning), you can open the "Select Folder/Archive" dialog box with that folder selected by default.
</dd>
<dt>-<kw>printdatapath</kw> (Output data storage location)</dt>
<dd>
Outputs the settings of the data storage location (-datapath option) followed by a newline to standard output, then exits. This option is intended for use by external applications that manage save data in cooperation with KiriKiri.<r/>
Special strings like $(exepath) in the data storage location will be output after being replaced.<r/>
Since KiriKiri is a GUI application, nothing will be displayed if you simply run the KiriKiri executable from a command prompt with the -printdatapath option. Use pipes or redirection to capture the output.<r/>
</dd>
<dt>-<kw>startup</kw> (Specify startup script)</dt>
<dd>
Specifies the filename of the script to be executed first.<r/>
If not specified, startup.tjs is executed.<r/>
</dd>
</dl>
</para>

<para>
<ptitle>General System Options</ptitle>
<dl>
<dt>-<kw>datapath</kw> (Data storage location)</dt>
<dd>
Sets the location (folder) where KiriKiri saves various data.<r/>
The value is specified as a string.<r/>
You can simply specify the folder name as a full path, but usually, the following special strings are embedded and used.<r/>
<r/>
<dl>
 <dt>$(exepath)</dt> <dd>Replaced by System.exePath (the folder where the KiriKiri core is located).</dd>
 <dt>$(appdatapath)</dt> <dd>Replaced by System.appDataPath (the user's home folder). This folder is usually a hidden folder.</dd>
 <dt>$(personalpath)</dt> <dd>Replaced by System.personalPath (the My Documents folder).</dd>
 <dt>$(vistapath)</dt> <dd>Replaced by $(appdatapath) if the OS is Vista or later, and by $(exepath) if it is earlier than Vista.</dd>
 <dt>$(savedgamespath)</dt> <dd>Replaced by System.savedGamesPath (the folder for game save data). (Since 1.1.0)</dd>
</dl>
<r/>
The default is "$(exepath)\savedata". This setting is suitable for distribution formats where the program is compressed/archived in zip format without using an installer, and the user executes the program immediately after extracting it.<r/>
However, with this default setting, if the program is placed under Program Files, there may be no permission to write under Program Files. If the program is launched by a "Limited User" on Windows XP, etc., an error may occur because files cannot be written.<r/>
If you use a name like "$(appdatapath)\ApplicationName" or "$(personalpath)\ApplicationName", files will be written to a folder for each user, making such problems less likely to occur. However, this may confuse users as the save data location becomes less obvious.<r/>
<r/>
The data storage location specified by this option will be attempted to be created if it does not exist when KiriKiri starts. Even if creation fails, processing continues without exiting, so please handle errors within the user's script (by catching exceptions such as data being unable to be saved).<r/>
<r/>
Settings made in "Engine Configuration" are created inside the folder specified by this data storage location. In addition, various logs are also created in this folder by default.<r/>
</dd>

<dt>-<kw>contfreq</kw> (Processing weight)</dt>
<dd>
Sets whether to reduce CPU usage by calling processes such as transitions at a specified cycle while applying weights.<r/>
Possible values are <b>'0' (no weight)</b> or a positive integer. If this option is not specified, '0' is assumed. If a positive integer is specified, you can specify the cycle in Hz.<r/>
This option affects transitions and Continuous handlers registered with System.addContinuousHandler.<r/>
If set to '0', the CPU will be fully utilized during transitions and other processes.<r/>
If a numerical value is specified, processing will occur at that cycle, and the CPU will rest during the remaining time. This can reduce the impact on other applications, CPU temperature rise, and computer power consumption. The lower the value specified, the higher this effect. However, specifying a low value may cause transitions to become less smooth.<r/>
If vertical sync waiting is performed with the waitvsync option, the Continuous handler will be driven according to the vertical sync timing, and the setting of the contfreq option will be ignored.<r/>
This option can be changed dynamically, but the change will be reflected the next time the transition or Continuous handler operation pauses.<r/>
</dd>




<dt>-<kw>memusage</kw> (Memory usage)</dt>
<dd>
Sets the memory usage.<r/>
Possible values are <b>'normal' (Normal)</b> or <b>'low' (Low)</b>. If this option is not specified, 'normal' is assumed.<r/>
Selecting "Low" will save more memory than selecting "Normal". However, selecting "Low" will decrease performance because various internal cache mechanisms in KiriKiri are restricted and the size of TJS2 hash tables is limited. Also, if "Low" is selected, "Graphics - Image Cache Limit" is forcibly considered to be set to "Do not cache".
</dd>
<dt>-<kw>timerprec</kw> (Timer precision)</dt>
<dd>
Sets the level of timer precision.<r/>
Possible values are <b>'normal' (Normal)</b>, <b>'higher' (Slightly high)</b>, or <b>'high' (High)</b>. If this option is not specified, 'normal' is assumed.<r/>
Specifying 'higher' or 'high' increases the overall precision of timers (including most things related to time and timing), which may resolve sluggishness in KAG character display or MIDI playback, but may also decrease performance.
</dd>

<dt>-<kw>laxtimer</kw> (Timer event capacity limit)</dt>
<dd>
Sets whether to limit the number of timer events that can be stored in the system at once (maximum capacity) to avoid situations where too many timer events accumulate and cannot be processed.<r/>
Possible values are <b>'no' (do not limit)</b> or <b>'yes' (limit)</b>. If this option is not specified, 'no' is assumed.<r/>
On very slow computers or in situations where very heavy processes are driven by timers, KiriKiri may become unresponsive to operations because it cannot keep up with events generated by timers. If 'yes' is specified for this option, the maximum capacity of timer events stored in the system is always fixed to 1 (the state where the capacity property of the Timer class is 1). This can suppress the generation of timer events that the system cannot process, but normally, timer precision and accuracy will be lost.<r/>
</dd>

<dt>-<kw>lowpri</kw> (Low priority)</dt>
<dd>
Sets whether to lower the priority during transitions and other processes.<r/>
Possible values are <b>'no' (do not lower)</b> or <b>'yes' (lower)</b>. If this option is not specified, 'no' is assumed.<r/>
If set to 'yes', the execution priority of the main thread will be lowered when the main thread of KiriKiri uses the CPU continuously, such as during transitions. This may improve symptoms such as sound skipping during transitions or other applications becoming difficult to operate during transitions.
</dd>

<dt>-<kw>exceptionexe</kw> (Editor to launch on exception)</dt>
<dd>
Specifies the editor to launch when an exception occurs.<r/>
</dd>

<dt>-<kw>exceptionarg</kw> (Options for editor on exception)</dt>
<dd>
Specifies the options to be used when launching the editor upon an exception.<r/>
You can simply specify arguments, but usually, the following special strings are embedded and used.<r/>
<r/>
<dl>
 <dt>%filepath%</dt> <dd>Replaced by the file path of the script where the exception occurred.</dd>
 <dt>%line%</dt> <dd>Replaced by the line number where the exception occurred.</dd>
</dl>
<r/>
</dd>




</dl>



</para>

<para>
<ptitle>Input Related Options</ptitle>
<dl>

<dt>-<kw>wheel</kw> (Mouse wheel rotation detection method)</dt>
<dd>
Sets how to detect mouse wheel rotation.<r/>
Possible values are <b>'no' (do not use)</b>, <b>'dinput' (DirectInput)</b>, or <b>'message' (window message)</b>. If this option is not specified, 'dinput' is assumed.<r/>
Selecting "Do not use" makes the mouse wheel unusable. Selecting "DirectInput" uses DirectInput. Selecting "Window message" detects mouse wheel rotation without using DirectInput. Changing this setting may resolve issues related to the mouse wheel.
</dd>

<dt>-<kw>joypad</kw> (Gamepad availability)</dt>
<dd>
Sets whether to use a gamepad (joystick).<r/>
Possible values are <b>'no' (do not use)</b> or <b>'dinput' (use)</b>. If this option is not specified, 'dinput' is assumed.<r/>
Selecting "Do not use" makes the pad unusable. Set this to "Do not use" if the pad cannot be detected normally or cannot be used normally.</dd>


<dt>-<kw>paddelay</kw> (Pad key repeat delay)</dt>
<dd>
Specifies the time until key repeat for the gamepad (joystick) in milliseconds.<r/>
Possible values are a positive number or -1. Specifying -1 disables key repeat. If this option is not specified, 500 is assumed.<r/>
This option is dynamically changeable.
</dd>


<dt>-<kw>padinterval</kw> (Pad key repeat interval)</dt>
<dd>
Specifies the interval for key repeat for the pad (joystick) in milliseconds. Smaller values result in faster repeats.<r/>
Possible values are positive numbers. If this option is not specified, 30 is assumed.<r/>
This option is dynamically changeable.
</dd>


<dt>-<kw>controlime</kw> (IME state control)</dt>
<dd>
Sets whether to perform state control (enable/disable, etc.) of the IME (Input Method Editor for Japanese, etc.).<r/>
Possible values are <b>'yes' (perform)</b> or <b>'no' (do not perform)</b>. If this option is not specified, 'yes' is assumed.<r/>
Selecting "Do not perform" may resolve issues such as "unable to input languages like Japanese through the IME."<r/>
</dd>

</dl>

</para>

<para>
<ptitle>Sound Related Options</ptitle>
<dl>
<dt>-<kw>wsdecpri</kw> (PCM decoding thread priority)</dt>
<dd>
The priority of the thread that performs PCM decoding.<r/>
Possible values are <b>'0' (Idle (lowest))</b>, <b>'1' (Low)</b>, <b>'2' (Below normal)</b>, <b>'3' (Normal)</b>, <b>'4' (Above normal)</b>, or <b>'5' (High)</b>. If this option is not specified, '1' is assumed.<r/>
Increasing the priority may reduce sound skipping during playback of PCM (uncompressed wave, OggVorbis, etc.), but transitions may become less smooth and responsiveness to operations may worsen.<r/>
Note that what is specified here is the decoding priority during normal times; in emergencies (when the remaining data in the buffer becomes short), the necessary priority is automatically secured.
</dd>

<dt>-<kw>wssoft</kw> (DirectSound software mixing)</dt>
<dd>
Sets whether to perform mixing using software in DirectSound.<r/>
Possible values are <b>'yes' (perform software mixing)</b> or <b>'no' (do not perform software mixing)</b>. If this option is not specified, 'yes' is assumed.<r/>
In the default setting, mixing is performed by software, so the CPU load is higher, but the possibility of avoiding hardware-specific bugs is higher. If there are no problems even if 'no' is specified (mixing is performed by hardware), the CPU load may be reduced. With USB audio or inexpensive sound cards, mixing may always be performed by the CPU, so changing this option may have no effect.
</dd>

<dt>-<kw>wsrecreate</kw> (DirectSound secondary buffer recreation)</dt>
<dd>
Sets whether to always recreate the secondary buffer in DirectSound.<r/>
Possible values are <b>'yes' (always recreate)</b> or <b>'no' (recreate as needed)</b>. If this option is not specified, 'no' is assumed.<r/>
In KiriKiri, a secondary buffer once created is reused if conditions such as the number of channels and sampling frequency are the same, but if 'yes' is specified, it will always be recreated without being reused. Depending on the environment, instabilities such as sound skipping or cutting at the start of playback may be improved.
</dd>

<dt>-<kw>wsl1len</kw> (DirectSound secondary buffer length)</dt>
<dd>
Sets the length of the DirectSound secondary buffer.<r/>
The value is an integer, specified in milliseconds. At least 250ms is required. If this option is not specified, 1000 is assumed.<r/>
What is specified here is the length of the buffer actually secured as the DirectSound secondary buffer.<r/>
Generally, a longer length makes playback more stable but consumes more memory.
</dd>

<dt>-<kw>wsl2len</kw> (DirectSound secondary auxiliary buffer length)</dt>
<dd>
Sets the length of the secondary auxiliary buffer for the DirectSound secondary buffer.<r/>
The value is an integer, specified in milliseconds. At least 250ms is required. If this option is not specified, 1000 is assumed.<r/>
KiriKiri creates an auxiliary buffer for each DirectSound secondary buffer, stores decoded data in this auxiliary buffer once, and then transfers it to the secondary buffer. The buffer length specified here is the length of that auxiliary buffer.<r/>
Normally, decoding and storage in the auxiliary buffer are performed in a low-priority thread, but the transfer from the auxiliary buffer to the secondary buffer is performed in a high-priority thread.<r/>
Generally, a longer length makes playback more stable but consumes more memory. Also, if control that changes the decoding process is applied, the delay until it is actually sounded will be longer.
</dd>

<dt>-<kw>wsmute</kw> (DirectSound mute)</dt>
<dd>
Sets whether to mute (lower the volume) when the application is inactive or minimized in DirectSound.<r/>
Possible values are <b>'never' (do not mute)</b>, <b>'minimize' (when minimized)</b>, or <b>'deactive' (when inactive)</b>. If this option is not specified, 'never' is assumed.<r/>
If 'never' is selected, muting is not performed. With 'minimize' or 'deactive', the sound is muted when the application is minimized or becomes inactive, respectively.<r/>
Only things played with WaveSoundBuffer (in KAG, when 'Wave' is used for BGM, and sound effects) are muted; MIDI and CDDA playback are not muted.
</dd>

<dt>-<kw>wsmutevol</kw> (DirectSound mute volume)</dt>
<dd>
Sets the volume when muted with -wsmute (DirectSound mute).<r/>
The value is an integer, specified in %.<r/>
Specifying "0%" results in complete silence, and specifying "50%" results in half volume (approx. -6dB).<r/>
</dd>


<dt>-<kw>wsforcecnv</kw> (DirectSound forced format conversion)</dt>
<dd>
Sets whether to forcibly convert PCM data to be played by DirectSound into a specified format.<r/>
Possible values are <b>'none' (do not convert)</b>, <b>'i16' (convert to 16-bit integer)</b>, or <b>'i16m' (convert to 16-bit integer mono)</b>. If this option is not specified, 'none' is assumed.<r/>
Changing the setting may resolve playback issues. If 'i16m' is selected, the -wsexpandquad option (DirectSound forced 4ch playback) setting is ignored.
</dd>

<dt>-<kw>wsuse3d</kw> (DirectSound 3D control)</dt>
<dd>
Sets whether to perform 3D control in DirectSound.<r/>
Possible values are <b>'no' (do not perform)</b> or <b>'yes' (perform)</b>. If this option is not specified, 'no' is assumed.<r/>
If 'yes' is selected, 3D control of sound is enabled, and WaveSoundBuffer.posX, WaveSoundBuffer.posY, and WaveSoundBuffer.posZ properties become effective (these properties are already implemented in the current version but are unsupported).<r/>
Also, in many environments, selecting 'yes' will cause DirectSound3D to expand stereo or mono sounds to surround speakers for playback (for example, sound that was only played on the front speakers will be played on all speakers in a 5.1ch environment).<r/>
If 'yes' is selected, the -wsexpandquad option (DirectSound forced 4ch playback) setting is ignored.
</dd>



<dt>-<kw>wsexpandquad</kw> (DirectSound forced 4ch playback)</dt>
<dd>
Sets whether to forcibly play stereo or mono sounds using 4 channels including rear speakers in DirectSound.<r/>
Possible values are <b>'no' (do not perform)</b> or <b>'yes' (perform)</b>. If this option is not specified, 'no' is assumed.<r/>
If 'yes' is set, sound can be played on both front and rear speakers even in environments where stereo or mono sound is only played on front speakers.
</dd>

<dt>-<kw>wsfreq</kw> (DirectSound primary buffer frequency)</dt>
<dd>
Sets the playback frequency of the DirectSound primary buffer.<r/>
Possible values are positive natural numbers representing the frequency in Hz. If this option is not specified, '44100' is assumed.<r/>
Especially in environments using WDM-based sound drivers (Windows 2000, XP and later, etc.), changing the setting may not result in any change in the playback state.
</dd>

<dt>-<kw>wsbits</kw> (DirectSound primary buffer bit depth)</dt>
<dd>
Sets the playback bit depth of the DirectSound primary buffer.<r/>
Possible values are <b>'i8' (8-bit integer)</b>, <b>'i16' (16-bit integer)</b>, <b>'i24' (24-bit integer)</b>, <b>'i32' (32-bit integer)</b>, or <b>'f32' (32-bit floating point)</b>. If this option is not specified, 'i16' is assumed.<r/>
Especially in environments using WDM-based sound drivers (Windows 2000, XP and later, etc.), changing the setting may not result in any change in the playback state.
</dd>

<dt>-<kw>wscontrolpri</kw> (DirectSound primary buffer playback control)</dt>
<dd>
Sets whether to perform play/stop control on the DirectSound primary buffer.<r/>
Possible values are <b>'yes' (perform)</b> or <b>'no' (do not perform)</b>. If this option is not specified, 'yes' is assumed.<r/>
Rarely, there seem to be environments where changing the setting improves sound skipping or cutting.
</dd>

<dt>-<kw>wspritry</kw> (DirectSound primary buffer setting retry level)</dt>
<dd>
Sets how many settings to try when specifying the format of the DirectSound primary buffer.<r/>
Possible values are <b>'0' to '2' (Level 0 to Level 2)</b> or <b>'all' (All)</b>. If this option is not specified, 'all' is assumed.<r/>
Specifying Level 0 attempts to set the format to stereo 16-bit integer.<r/>
Specifying Level 1 attempts to set the format with the number of channels according to the system speaker settings and 16-bit integer before trying Level 0.<r/>
Specifying Level 2 attempts to set the format using the WAVEFORMATEX structure with the bit depth specified in "DirectSound primary buffer bit depth" and the number of channels according to the system speaker settings before trying Level 1.<r/>
Specifying "All" attempts to specify the format using the WAVEFORMATEXTENSIBLE structure with the same settings as Level 2 before trying Level 2.
</dd>
<!-- 
<dt>-<kw>_inmm</kw> (_inmm.dll)</dt>
<dd>
Sets whether to use irori's _inmm.dll.<r/>
Possible values are <b>'yes' (use)</b> or <b>'no' (do not use)</b>. If this option is not specified, 'no' is assumed.<r/>
irori's _inmm.dll is convenient, but KiriKiri cannot be patched with the _inmm.dll patch program due to its internal structure. Therefore, KiriKiri supports it natively.<r/>
Specifying 'yes' allows it to operate as if it were patched.
</dd>
-->

</dl>
</para>

<para>
<ptitle>Graphics Related Options</ptitle>
<dl>
<dt>-<kw>gclim</kw> (Image cache limit)</dt>
<dd>
Sets the maximum amount of memory used for image caching.<r/>
Possible values are <b>'auto' (Automatic)</b> or an integer value. If an integer value is specified, the memory used for image caching is specified in MB. If this option is not specified, 'auto' is assumed.<r/>
KiriKiri has a mechanism to cache images so that once loaded images can be accessed quickly. This specifies the limit for the memory used for that.<r/>
If 'auto' is specified, the value is automatically determined by the amount of physical memory installed in the computer.<r/>
If '0' is specified, caching is not performed.<r/>
If swapping occurs frequently while KiriKiri is running, specifying a smaller value or '0' may improve the situation.
</dd>

<dt>-<kw>fsbpp</kw> (Fullscreen color mode)</dt>
<dd>
Sets the color mode for fullscreen.<r/>
Possible values are <b>'nochange' (do not change)</b>, <b>'16' (16-bit color)</b>, <b>'24' (24-bit color)</b>, or <b>'32' (32-bit color)</b>. If this option is not specified, 'nochange' is assumed.<r/>
If 'nochange' is specified, the color mode will be the same as the non-fullscreen color mode.<r/>
This option can be changed dynamically, but the value will be reflected the next time you try to go fullscreen.<r/>
</dd>

<dt>-<kw>fsres</kw> (Fullscreen screen resolution)</dt>
<dd>
Sets the screen resolution for fullscreen.<r/>
Possible values are <b>'auto' (Automatic)</b>, <b>'proportional' (Resolution with same aspect ratio)</b>, <b>'nearest' (Nearest resolution)</b>, or <b>'nochange' (Do not change resolution)</b>. If this option is not specified, 'auto' is assumed.<r/>
Selecting 'auto' automatically selects and uses the most suitable screen resolution. In this case, if there is a resolution among those with the same aspect ratio that fits the resolution specified in the program, it is selected. If no such resolution exists, the engine performs scaled display without changing the resolution. In this setting, even if 'no' (do not) is specified for the -fszoom (engine scaling in fullscreen) option, it is always considered to be 'outer' (fit within monitor).<r/>
Selecting 'proportional' selects the resolution that is the same as or larger than the resolution specified in the program and is the closest among those with the same aspect ratio as the non-fullscreen mode.<r/>
Selecting 'nearest' selects the resolution that is the same as or larger than the resolution specified in the program and is the closest, but there is no guarantee that a resolution with the same aspect ratio as the non-fullscreen mode will be selected. This setting may be suitable for CRT monitors or LCD monitors that support scaled display while maintaining the screen aspect ratio.<r/>
Selecting 'nochange' does not change the resolution, keeping the non-fullscreen resolution.<r/>
This option can be changed dynamically, but the value will be reflected the next time you try to go fullscreen.<r/>
</dd>

<dt>-<kw>fszoom</kw> (Engine scaling in fullscreen)</dt>
<dd>
Specifies how the engine should perform screen scaling in fullscreen.<r/>
Possible values are <b>'inner' (fit within monitor)</b>, <b>'outer' (expand to fill monitor)</b>, or <b>'no' (do not)</b>. If this option is not specified, 'inner' is assumed.<r/>
Selecting 'inner' performs engine scaling if necessary. "If necessary" means when the screen resolution differs from the resolution specified in the program (if the screen resolution is lower than the resolution specified in the program, it will be a shrinking process). At this time, scaling is performed while maintaining the aspect ratio of the resolution specified in the program, but if the monitor's aspect ratio differs from this aspect ratio, gaps may appear at the top and bottom or left and right. These gaps are always displayed in solid black.<r/>
Specifying 'outer' performs engine scaling if necessary, just like 'inner'. However, unlike 'inner', if the monitor's aspect ratio differs from the aspect ratio specified in the program, scaling is performed to the maximum extent so that no gaps appear at the top and bottom or left and right. For this reason, no gaps are created, but the screen may protrude outside the monitor. With this setting, for example, when displaying 16:9 content on a 16:10 monitor, it is possible to display it scaled to the maximum extent without showing gaps. Of course, this will result in areas protruding to the left and right, so if you are creating content assuming such a display, you need to take measures such as not displaying important UI or text in the protruding parts.<r/>
Selecting 'no' does not perform engine scaling even if necessary. In this case, even if the screen resolution differs from the resolution specified in the program, scaling by the engine is not performed (as a result, the image may be displayed small in the center of the screen).<r/>
Note that if the monitor's native resolution differs from the resolution of the signal output by the graphics card, LCD monitors may perform scaling on the monitor side. If scaling is performed on the monitor side and then further scaling is performed on the engine side, scaling will be performed twice, which may result in a degraded image (the "auto" option for -fsres automatically selects a combination that prevents such double scaling).<r/>
This option can be changed dynamically, but the value will be reflected the next time you try to go fullscreen.<r/>
</dd>


<!-- obsoleted
<dt>-<kw>dither</kw> (Dithering)</dt>
<dd>
Sets whether to perform image dithering in 16-bit color mode.<r/>
Possible values are <b>'no' (do not use)</b> or <b>'yes' (use)</b>. If this option is not specified, 'no' is assumed.<r/>
KiriKiri has a function to reduce colors while dithering images for 16-bit color screen modes. This can reduce color banding in images, but drawing performance may decrease.
</dd>
-->

<dt>-<kw>gsplit</kw> (Split processing of image operations)</dt>
<dd>
Sets whether to perform image operations by dividing them into fine segments.<r/>
Possible values are <b>'yes' (perform)</b>, <b>'int' (interlace split)</b>, <b>'bidi' (bidirectional split)</b>, or <b>'no' (do not perform)</b>. If this option is not specified, 'yes' is assumed.<r/>
KiriKiri performs operations while dividing the drawing area into small regions when drawing images in order to use the CPU's memory cache effectively. Depending on the environment, this seems to lead to screen flickering. In such environments, specifying 'no' may suppress flickering, but drawing performance may also decrease. If double buffering is enabled, the meaning of not performing split processing is diminished, so it is recommended to set it to perform split processing.<r/>
Specifying 'int' processes image operation units every other unit, but stripes may be visible during screen updates. Selecting 'bidi' repeats top-to-bottom and bottom-to-top in the order of image operations (in the case of 'yes', it is always top-to-bottom).
</dd>

<dt>-<kw>smoothzoom</kw> (Smoothing during scaled display)</dt>
<dd>
Sets whether to perform smoothing (interpolation during scaling) when performing scaled display of content with Window.setZoom, etc., or when KiriKiri performs scaled (shrunk) display of the screen with the -fsres option (this is unrelated to scaling with Layer.affineCopy, etc.).<r/>
Possible values are <b>'no' (do not perform)</b> or <b>'yes' (perform)</b>. If this option is not specified, 'yes' is assumed.<r/>
Smoothing makes the image smoother but gives it a slightly blurred feel. Without smoothing, the image is sharp but jaggedness becomes noticeable.<r/>
Depending on the environment, performance may decrease if smoothing is not performed. Also, there may be environments where smoothing does not work.<r/>
Some third-party drawing devices (devices set with the Window.drawDevice property) may not be affected by this option.<r/>
This option can be changed dynamically, but there is no guarantee that the value will be reflected immediately.<r/>
</dd>


<dt>-<kw>aamethod</kw> (Anti-aliased character drawing method)</dt>
<dd>
Sets the anti-aliased character drawing method.<r/>
Possible values are <b>'auto' (Automatic)</b>, <b>'res4' (Resampling 4x4)</b>, <b>'res8' (Resampling 8x8)</b>, or <b>'api' (Windows API)</b>. If this option is not specified, 'auto' is assumed.<r/>
In the case of 'auto', 'api' is automatically selected in the current version.<r/>
With 'res4' or 'res8', characters are drawn at several times the size (4x4 or 8x8) and then reduced to achieve anti-aliasing. res4 is faster than res8, but precision is lower.<r/>
With 'api', anti-aliased characters are drawn using the GetGlyphOutline API, but this API seems to have many inconveniences and may not draw correctly depending on the environment.
</dd>

<dt>-<kw>jpegdec</kw> (JPEG image decoding precision)</dt>
<dd>
Sets the precision of JPEG image decoding (expansion).<r/>
Possible values are <b>'high' (High)</b>, <b>'normal' (Standard)</b>, or <b>'low' (Low)</b>. If this option is not specified, 'normal' is assumed.<r/>
Specifying 'high' makes decoding slower but image quality higher. Specifying 'low' makes decoding faster but image quality lower. However, there is almost no difference in appearance.
</dd>

<dt>-<kw>drawthread</kw> (Number of drawing threads)</dt>
<dd>
Sets the number of threads to use during drawing processing.<r/>
Possible values are <b>any numerical value</b> or <b>'auto' (Automatic)</b>. If this option is not specified, '1' is assumed.<r/>
Specifying 'auto' automatically assigns the same number of threads as the number of processors recognized by the OS.<r/>
Setting multiple drawing threads may improve drawing performance in multi-core environments, but conversely, performance may decrease.<r/>
Good results may be obtained by applying this to processes with large drawing areas, high-load Affine-related processes, or heavy layer synthesis operations.<r/>
Even if set to use multi-threading, if the system determines that the drawing load is light and the effect of multi-threading cannot be obtained, it may not be executed in multi-threaded mode.<r/>
</dd>

<dt>-<kw>bitmapallocator</kw> (Bitmap memory allocation method Ver 1.1 and later)</dt>
<dd>
Specifies how to allocate memory for bitmaps.<r/>
Possible values are <b>'globalalloc' (Allocate with GlobalAlloc)</b>, <b>'separateheap' (Use separate heap)</b>, or <b>'malloc' (Use malloc)</b>. If this option is not specified, 'globalalloc' is assumed.<r/>
Using separateheap may reduce memory fragmentation and avoid out-of-memory error problems.
</dd>

<dt>-<kw>bitmapheapsize</kw> (Initial separate heap size Ver 1.1 and later)</dt>
<dd>
Specifies the initial size when "Use separate heap" is chosen for the bitmap memory allocation method.<r/>
Possible values are <b>'auto' (Automatic (Recommended))</b>, <b>'0' (Automatically expand)</b>, <b>'64' (64MB)</b>, <b>'128' (128MB)</b>, <b>'256' (256MB)</b>, <b>'512' (512MB)</b>, <b>'1024' (1024MB)</b>, or <b>'2048' (2048MB)</b>. If this option is not specified, 'auto' is assumed.<r/>
Normally auto is fine, but adjusting the initial value may reduce memory fragmentation and avoid out-of-memory error problems.
</dd>

</dl>
</para>


<para>
<ptitle>CPU Feature Related Options</ptitle>
For all the following options, possible values are <b>'yes' (use if available)</b>, <b>'no' (do not use even if available)</b>, or <b>'force' (forcibly use)</b>. If an option is not specified, 'yes' is assumed.<r/>
If CPU recognition trouble occurs, setting it to 'no' will disable that feature.<r/>
'force' will forcibly use the CPU feature even if it is not detected, but of course, it will not work correctly if the CPU does not have that feature.<r/>
Only the -cpummx, -cpucmov, -cpusse, and -cpuemmx options affect the KiriKiri core itself. The -cpusse, -cpummx, and -cpu3dn options affect the OggVorbis decoder (wuvorbis.dll). Other (third-party) plugins may also be affected by CPU feature settings.<r/>
<r/>
<ul>
<li>-<kw>cpummx</kw> (MMX)</li>
<li>-<kw>cpu3dn</kw> (3DNow!)</li>
<li>-<kw>cpusse</kw> (SSE)</li>
<li>-<kw>cpucmov</kw> (CMOVcc)</li>
<li>-<kw>cpue3dn</kw> (Enhanced 3DNow!)</li>
<li>-<kw>cpuemmx</kw> (EMMX (MMX2))</li>
<li>-<kw>cpusse2</kw> (SSE2)</li>
<li>-<kw>cpusse3</kw> (SSE3)</li>
<li>-<kw>cpussse3</kw> (SSSE3)</li>
<li>-<kw>cpusse41</kw> (SSE4.1)</li>
<li>-<kw>cpusse42</kw> (SSE4.2)</li>
<li>-<kw>cpusse4a</kw> (SSE4a)</li>
<li>-<kw>cpuavx</kw> (AVX)</li>
<li>-<kw>cpuavx2</kw> (AVX2)</li>
<li>-<kw>cpufma3</kw> (FMA3)</li>
<li>-<kw>cpuaes</kw> (AES)</li>
</ul>
</para>



<para>
<ptitle>Debug Related Options</ptitle>
<dl>

<dt>-<kw>debug</kw> (Debug mode)</dt>
<dd>
Sets whether to operate KiriKiri in debug mode <comlink href="Debug" />.<r/>
Possible values are <b>'no' (Disabled)</b> or <b>'yes' (Enabled)</b>. If this option is not specified, 'no' is assumed.<r/>
If enabled, KiriKiri operates in debug mode and several debug support functions are enabled, but execution speed will be lower than in normal mode.
</dd>


<dt>-<kw>forcelog</kw> (Log to file)</dt>
<dd>
Sets whether to output console logs to a file.<r/>
Possible values are <b>'no' (do not output)</b>, <b>'yes' (append to existing file)</b>, or <b>'clear' (clear existing file before outputting)</b>. If this option is not specified, 'no' is assumed.

</dd>

<dt>-<kw>logerror</kw> (Log to file on error)</dt>
<dd>
Sets whether to output console logs to a file when an error occurs.<r/>
Possible values are <b>'no' (do not output)</b>, <b>'yes' (append to existing file)</b>, or <b>'clear' (clear existing file before outputting)</b>. If this option is not specified, 'yes' is assumed.

</dd>
</dl>
</para>





<para>
<ptitle>System Compatibility Options</ptitle>

<dl>
<dt>-<kw>arcdelim</kw> (Archive delimiter)</dt>
<dd>
Specifies the archive delimiter (the character that separates the archive storage name and the in-archive storage name).<r/>
Possible values are <b>'&gt;' (use '&gt;')</b> or <b>'#' (use '#')</b>. If this option is not specified, '&gt;' is assumed.<r/>
The archive delimiter was changed from the traditional '#' to '>' in KiriKiri 2 2.19 beta 14.<r/>
Applications that operated on versions earlier than 2.19 beta 14 may stop working due to this change, but they can be made to work by changing the delimiter to '#' with this option.<r/>
</dd>


<dt>-<kw>evalcontext</kw> (Behavior of postfix '!' operator)</dt>
<dd>
Specifies the behavior of the TJS2 postfix '!' operator.<r/>
Possible values are <b>'this' (evaluate expression on this)</b> or <b>'global' (evaluate expression on global)</b>. If this option is not specified, 'this' is assumed.<r/>
The TJS2 postfix '!' operator used to execute expressions on the global context, but from 2.21 beta 9, it executes on the this context.<r/>
Applications assuming versions earlier than 2.21 beta 9 may not work unless this setting is set to "evaluate expression on global".
</dd>


<dt>-<kw>holdalpha</kw> (Default value of Layer.holdAlpha property)</dt>
<dd>
Specifies the default value of the <at href="f_Layer_holdAlpha.html">Layer.holdAlpha</at> property.<r/>
Possible values are <b>'false' (False)</b> or <b>'true' (True)</b>. If this option is not specified, 'false' is assumed.<r/>
In KiriKiri 2 2.23 beta 4, the hda (whether to protect the alpha channel) option specified in various operation functions was removed, and the Layer.holdAlpha property was created instead. At that point, the default value of Layer.holdAlpha was true. If Layer.holdAlpha is true, it does not affect the behavior of past applications.<r/>
In KiriKiri 2 2.23 beta 5, this default value became false. If you want to run an application assuming a version earlier than KiriKiri 2 2.23 beta 5, it may not work correctly unless "True" is specified for this option.
</dd>


<dt>-<kw>unaryaster</kw> (Behavior of prefix '*' operator)</dt>
<dd>
Specifies the behavior of the TJS2 prefix '*' operator.<r/>
Possible values are <b>'default' (behavior of 2.25 and later)</b> or <b>'compat' (behavior of versions earlier than 2.25)</b>. If this option is not specified, 'default' is assumed.<r/>
The TJS2 prefix '*' operator was an operator to retrieve the property object itself without going through the property handler, but from 2.25 beta 1, the operator with this function became the prefix '&amp;', and the prefix '*' operator became an operator to operate the property handler of the property object. Applications assuming versions earlier than 2.25 beta 1 may not work correctly unless this setting is set to "compatible with versions earlier than 2.25".
</dd>


<dt>-<kw>wsvolfactor</kw> (DirectSound volume curve)</dt>
<dd>
Possible values are <b>'3322' (behavior of 2.31 2011/6/14 and later)</b> or <b>'5000' (behavior of versions earlier than 2.31 2011/6/14)</b>. If this option is not specified, '3322' is assumed.<r/>
The DirectSound volume curve became a more intuitive curve from 2.31 2011/6/14.<r/>
</dd>


<dt>-<kw>readencoding</kw> (Script reading character code)</dt>
<dd>
Possible values are <b>'Shift_JIS' (KiriKiri 2 compatible behavior)</b> or <b>'UTF-8' (KiriKiri Z behavior)</b>. If this option is not specified, 'UTF-8' is assumed.<r/>
The character code used to read scripts.<r/>
</dd>


<dt>-<kw>ignoretouch</kw> (Disable touch events 1.3.0 and later)</dt>
<dd>
Possible values are <b>'false' (False)</b> or <b>'true' (True)</b>. If this option is not specified, 'false' is assumed.<r/>
If 'true' is specified, touch events are disabled and mouse events are generated instead.<r/>
</dd>




</dl>
</para>



</doc>