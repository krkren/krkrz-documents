<?xml version="1.0" encoding="UTF-8" ?>
<doc>
<title>How to Start</title>

<para>
<ptitle>About Starting KiriKiri</ptitle>
 To start KiriKiri and specify a script, you usually need to determine the <kw>project folder</kw> (see <link href="StorageSystem"/>).<r/>
 There are several ways to determine the project folder, prioritized in the order listed below (the first applicable method is used).<r/>
 For options passed to KiriKiri at startup, please refer to <link href="CommandLine"/>.<r/>
</para>

<para>
<ptitle>Order of Project Folder Determination</ptitle>
<dl>
<dt>Folders or archives specified on the command line</dt>
<dd>
 If a folder is specified as a command line argument, it is treated as the project folder and executed.<r/>
 If an XP3 archive is specified as a command line argument, it is assumed that the project folder is inside it and executed.<r/>
 Specifying files or folders as command line arguments can be done from the command prompt, but the easiest way is to drop the project folder or file onto the KiriKiri executable icon in Explorer or an "Open" dialog.<r/>
 It is also convenient to place a shortcut on the desktop with a specific project folder written as an argument to the KiriKiri executable.
</dd>

<dt>content-data folder in the same location as the executable</dt>
<dd>
 If there is a folder named "content-data" in the same location as the executable, it is treated as the project folder and executed.
</dd>

<dt>"data.xp3" file in the same location as the executable</dt>
<dd>
 If there is an archive file named data.xp3 in the same location as the executable, it is treated as an XP3 archive containing the project folder and executed.
</dd>

<!--
<dt>When an XP3 archive is bound to itself</dt>
<dd>
 XP3 archives can be bound to the executable; if the executable itself is bound with an XP3 archive, it is assumed to contain the project folder and executed.
</dd>
-->

<dt>data folder in the same location as the executable</dt>
<dd>
 If there is a folder named "data" in the same location as the executable, it is treated as the project folder and executed.
</dd>
</dl>
<r/>
 If the folder cannot be determined by any of these methods, the folder/archive selection screen will appear.<r/>
 However, if "Execute only from XP3 archive" is specified in the release options, it will only operate with the data.xp3 file, data.exe file, or when an XP3 archive is bound to the executable (see <link href="Configure"/>).<r/>
</para>

<para>
<ptitle>Folder/Archive Selection</ptitle>
 The folder/archive selection screen looks like this.<r/>
<img src="FolderSelector.png"/><r/><r/>
<dl>

<dt>"OK" button</dt>
<dd>
 Starts execution of the currently selected folder or file.
</dd>

<dt>"Cancel" button</dt>
<dd>
 Exits KiriKiri without doing anything.
</dd>
</dl>
</para>

<para>
<ptitle>First Executed File</ptitle>
 After the project folder is determined, the first file executed is startup.tjs within the project folder. If this is missing, an error occurs.<r/>
 The first file to be executed can also be specified with -startup. Please refer to <link href="CommandLine"/>.<r/>
</para>

<para>
<ptitle>Message Map File</ptitle>
 Immediately after starting, KiriKiri checks if msgmap.tjs exists in the same folder as KiriKiri and executes it if it does. This is except when the release options specify not to load it (see <link href="Configure"/>). In msgmap.tjs, you can change message assignments using <at href="f_System_assignMessage.html">System.assignMessage</at>. msgmap.tjs can also be created in the <link href="Controller" />.<r/>
</para>

<para>
<ptitle>Configuration File</ptitle>
 KiriKiri loads the configuration files (.cf or .cfu files) created in <link href="Configure"/> and operates according to the settings described therein.<r/>
 Please refer to <link href="Configure"/> for file names and where files are created.<r/>
</para>

</doc>