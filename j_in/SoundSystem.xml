<?xml version="1.0" encoding="UTF-8" ?>
<doc>
<title>Sound System</title>

<para>
<ptitle>About the Sound System</ptitle>
 KiriKiri's sound system can play Wave (PCM) audio.<r/>
 Multiple Wave sounds can be played simultaneously. In addition to streaming playback (playing long sounds while loading them bit by bit), seamless loop playback without noticeable gaps can be achieved using sound loop information files (.sli files). (Sound loop information files are created with the Loop Tuner).<r/>
</para>


<para>
<ptitle>Formats Playable by WaveSoundBuffer</ptitle>
 <at href="f_WaveSoundBuffer.html">WaveSoundBuffer</at> can play uncompressed RIFF Wave format (extension .wav, the standard Windows format) by default. The supported formats are as follows:<r/>
<r/>
<ul>
<li>WAVE_FORMAT_PCM format: Integer PCM between 8-bit and 32-bit, with 1 (mono), 2 (stereo), 4 (quadraphonic), or 6 (5.1ch) channels.</li>
<li>WAVE_FORMAT_IEEE_FLOAT format: 32-bit floating-point PCM, with 1 (mono), 2 (stereo), 4 (quadraphonic), or 6 (5.1ch) channels.</li>
<li>WAVE_FORMAT_EXTENSIBLE format: Subtype KSDATAFORMAT_SUBTYPE_PCM, integer PCM between 8-bit and 32-bit.</li>
<li>WAVE_FORMAT_EXTENSIBLE format: Subtype KSDATAFORMAT_SUBTYPE_IEEE_FLOAT, 32-bit floating-point PCM.</li>
</ul>
<r/>
 The formats playable by WaveSoundBuffer can be extended via plugins.<r/>
</para>

<para>
<ptitle>Handling of 4ch and 6ch in WaveSoundBuffer</ptitle>
 WAVE_FORMAT_EXTENSIBLE contains information within the data regarding "which channel is assigned to which speaker," but WAVE_FORMAT_PCM and WAVE_FORMAT_IEEE_FLOAT do not contain this information. When KiriKiri handles 4ch or 6ch data in WAVE_FORMAT_PCM or WAVE_FORMAT_IEEE_FLOAT, it interprets them as follows:<r/>
<r/>
<dl>
<dt>For 4ch</dt>
<dd>From the beginning of the channels, they are treated as data for the Front Left, Front Right, Rear Left, and Rear Right speakers, respectively.</dd>
<dt>For 6ch</dt>
<dd>From the beginning of the channels, they are treated as data for the Front Left, Front Center, Front Right, Rear Left, Rear Right, and Low Frequency (LFE) speakers, respectively.</dd>
</dl>
<r/>
 The same rules apply when playing 4ch or 6ch sound with OggVorbis.<r/>

</para>

</doc>